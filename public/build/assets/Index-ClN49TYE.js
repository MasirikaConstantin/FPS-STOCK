import{j as e,L as f,$ as d,S as v}from"./app-CQvyAInf.js";import{B as o}from"./button-qelRmArg.js";import{T as y,a as C,b as g,c as t,d as N,e as a}from"./table-Bx0a_80k.js";import{B as x}from"./badge-CsRI51Hc.js";import{C as T,a as S,b as w,c as _,d as A}from"./card-D2Gq_jtJ.js";import{I}from"./input-Blf29Qex.js";import{S as h,a as m,b as j,c as p,d as l}from"./select-DsVvSlVc.js";import{A as B,T as L}from"./app-layout-mQZNAdUE.js";import{C as H}from"./check-3WY5HJZB.js";import{I as R,B as D,C as V}from"./info-nzFAjv0M.js";import{C as k}from"./circle-alert-MX2DQFDa.js";import"./app-CbyD8i4Z.js";import"./index-Dh4Dnqzu.js";import"./utils-jAU0Cazi.js";import"./index-Csg-B5yo.js";import"./index-D1Z7h3vH.js";import"./createLucideIcon-CDtDhRNb.js";import"./index-B6QC96uA.js";import"./app-logo-icon-CYEPLqCw.js";import"./car-front-3ODHaHDz.js";import"./package-BH85mpxF.js";const z={stock_faible:e.jsx(L,{className:"h-4 w-4"}),avertissement_expiration:e.jsx(V,{className:"h-4 w-4"}),expire:e.jsx(k,{className:"h-4 w-4"}),demande_transfert:e.jsx(D,{className:"h-4 w-4"}),systeme:e.jsx(R,{className:"h-4 w-4"})},E={stock_faible:"bg-amber-100 text-amber-800",avertissement_expiration:"bg-blue-100 text-blue-800",expire:"bg-red-100 text-red-800",demande_transfert:"bg-purple-100 text-purple-800",systeme:"bg-gray-100 text-gray-800"},F={faible:"bg-gray-100 text-gray-800",moyen:"bg-blue-100 text-blue-800",eleve:"bg-amber-100 text-amber-800",critique:"bg-red-100 text-red-800"},G=[{title:"Gestion des Alertes",href:"/alerts"}];function ce({alerts:i,filters:n,types:u,priorities:b}){const c=(s,r)=>{v.get("/alerts",{...n,[s]:r},{preserveState:!0})};return e.jsxs(B,{breadcrumbs:G,children:[e.jsx(f,{title:"Gestion des Alertes"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:e.jsxs(T,{children:[e.jsxs(S,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsx(w,{className:"text-2xl font-bold",children:"Liste des Alertes"}),e.jsx(o,{asChild:!0,children:e.jsx(d,{href:route("alerts.create"),children:"Créer une Alerte"})})]}),e.jsxs(_,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(I,{placeholder:"Rechercher...",value:n.search||"",onChange:s=>c("search",s.target.value)}),e.jsxs(h,{value:n.type||void 0,onValueChange:s=>c("type",s),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Type d'alerte"})}),e.jsxs(p,{children:[e.jsx(l,{value:"all",children:"Tous les types"}),"  ",Object.entries(u).map(([s,r])=>e.jsx(l,{value:s,children:r},s))]})]}),e.jsxs(h,{value:n.priorite||void 0,onValueChange:s=>c("priorite",s),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Priorité"})}),e.jsxs(p,{children:[e.jsx(l,{value:"all",children:"Toutes les priorités"}),"  ",Object.entries(b).map(([s,r])=>e.jsx(l,{value:s,children:r},s))]})]}),e.jsxs(h,{value:n.is_resolved===void 0?void 0:n.is_resolved.toString(),onValueChange:s=>c("is_resolved",s==="true"),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Statut"})}),e.jsxs(p,{children:[e.jsx(l,{value:"all",children:"Tous les statuts"}),"  ",e.jsx(l,{value:"false",children:"Non résolues"}),e.jsx(l,{value:"true",children:"Résolues"})]})]})]}),e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(g,{children:[e.jsx(t,{children:"Type"}),e.jsx(t,{children:"Titre"}),e.jsx(t,{children:"Hôpital"}),e.jsx(t,{children:"Priorité"}),e.jsx(t,{children:"Statut"}),e.jsx(t,{children:"Date"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(N,{children:i.data.map(s=>e.jsxs(g,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:E[s.type],children:z[s.type]}),e.jsx("span",{children:u[s.type]})]})}),e.jsx(a,{className:"font-medium",children:s.titre}),e.jsx(a,{children:s.hopital.nom}),e.jsx(a,{children:e.jsx(x,{className:F[s.priorite],children:b[s.priorite]})}),e.jsx(a,{children:s.is_resolved?e.jsxs(x,{className:"bg-green-100 text-green-800",children:[e.jsx(H,{className:"h-4 w-4 mr-1"})," Résolue"]}):e.jsx(x,{variant:"destructive",children:"En attente"})}),e.jsx(a,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(a,{className:"text-right",children:e.jsx(o,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(d,{href:route("alerts.show",s.ref),children:"Détails"})})})]},s.id))})]})]}),i.links&&e.jsxs(A,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Affichage de ",i.from," à ",i.to," sur ",i.total," alertes"]}),e.jsx("div",{className:"flex space-x-2",children:i.links.map((s,r)=>e.jsx(o,{variant:s.active?"default":"outline",size:"sm",asChild:!0,disabled:!s.url,children:e.jsx(d,{href:s.url||"#",dangerouslySetInnerHTML:{__html:s.label}})},r))})]})]})})})]})}export{ce as default};
//# sourceMappingURL=Index-ClN49TYE.js.map
