import{r as m,j as e,L as b,$ as c,S as A,t as p}from"./app-DgZYpFq7.js";import{T as k,A as S,a as T,b as _,c as M,d as I,e as E,f as K,g as P}from"./alert-dialog-DNG5j5Bt.js";import{B as O}from"./badge-CwTEI7kw.js";import{B as x}from"./button-DzvBAvYb.js";import{A as B,a as H,b as L,c as F,d as h}from"./app-layout-91MyU6xV.js";import{T as G,a as R,b as u,c as l,d as V,e as a}from"./table-FW4F-V4U.js";import{KitsStatsCards as $}from"./KitsStatsCards-H9a_Gjrv.js";import{C as q,a as U,b as z,c as J}from"./card-p61obAJe.js";import{c as Q}from"./createLucideIcon-Bp4--aub.js";import{E as W}from"./ellipsis-BI_TzJKa.js";import{E as X}from"./eye-C_ZkakFS.js";import{P as Y}from"./pencil-DpzAsbso.js";import"./app-nklVn4u_.js";import"./index-C9XCcCFj.js";import"./utils-jAU0Cazi.js";import"./index-DOjrUmdc.js";import"./index-DUIdKc2i.js";import"./app-logo-icon-Dkusirb4.js";import"./car-front-DHnhNWiQ.js";import"./package-CUTUJuVR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],ee=Q("PackagePlus",Z);function ve({kits:o,categories:j,stats:f}){const[g,d]=m.useState(!1),[i,C]=m.useState(null),[N,r]=m.useState(null),v=[{title:"Gestion des Kits",href:"/kits"}],y=s=>{C(s),d(!0),r(null)},w=()=>{i&&A.delete(route("kits.destroy",i.ref),{preserveScroll:!0,onSuccess:()=>{p.success("Kit supprimé avec succès"),d(!1)},onError:()=>{p.error("Une erreur est survenue lors de la suppression")},onFinish:()=>{r(null)}})},D=s=>{var n;return((n=j.find(t=>t.id===s))==null?void 0:n.nom)||"Inconnue"};return e.jsxs(B,{breadcrumbs:v,children:[e.jsx(b,{title:"Gestion des Kits"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-2",children:e.jsx($,{stats:f||{active_kits:0,inactive_kits:0,total_items:0,unique_types:0}})}),e.jsxs(q,{className:"mt-4",children:[e.jsxs(U,{className:"flex justify-between items-center mb-6",children:[e.jsx(z,{className:"text-2xl font-bold",children:"Kits Médicaux Configurés"}),e.jsx(x,{asChild:!0,children:e.jsxs(c,{href:route("kits.create"),children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Créer un Kit"]})})]}),e.jsx(J,{children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs(G,{className:"dark:text-gray-400cell w-full text-left text-sm text-gray-500 rtl:text-right",children:[e.jsx(R,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Nom"}),e.jsx(l,{children:"Catégorie"}),e.jsx(l,{children:"Description"}),e.jsx(l,{children:"Statut"}),e.jsx(l,{children:"Créé par"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(V,{children:o&&o.length>0?o.map(s=>{var n;return e.jsxs(u,{children:[e.jsx(a,{className:"font-medium text-black dark:text-white",children:s.nom}),e.jsx(a,{children:D(s.categorie_id)}),e.jsx(a,{className:"max-w-xs truncate",children:s.description||"Aucune description"}),e.jsx(a,{children:e.jsx(O,{variant:s.is_active?"default":"destructive",children:s.is_active?"Actif":"Inactif"})}),e.jsx(a,{children:((n=s.created_by)==null?void 0:n.name)||"Système"}),e.jsx(a,{children:e.jsxs(H,{open:N===s.ref,onOpenChange:t=>{r(t?s.ref:null)},children:[e.jsx(L,{asChild:!0,children:e.jsx(x,{variant:"ghost",className:"h-8 w-8 p-0",onClick:t=>t.stopPropagation(),children:e.jsx(W,{className:"h-4 w-4"})})}),e.jsxs(F,{align:"end",onInteractOutside:()=>r(null),children:[e.jsx(h,{asChild:!0,children:e.jsxs(c,{href:route("kits.show",s.ref),className:"flex items-center",onClick:()=>r(null),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Voir"]})}),e.jsx(h,{asChild:!0,children:e.jsxs(c,{href:route("kits.edit",s.ref),className:"flex items-center",onClick:()=>r(null),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Modifier"]})}),e.jsxs(h,{className:"text-red-600 focus:bg-red-50 focus:text-red-600",onClick:t=>{t.preventDefault(),y(s),r(null)},children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},s.id)}):e.jsx(u,{children:e.jsxs(a,{colSpan:6,className:"py-4 text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Aucun kit trouvé."}),e.jsx(x,{asChild:!0,variant:"link",className:"mt-2",children:e.jsx(c,{href:route("kits.create"),children:"Créer un kit"})})]})})})]})})})})]})]})}),e.jsx(S,{open:g,onOpenChange:d,children:e.jsxs(T,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Êtes-vous sûr ?"}),e.jsxs(I,{children:['Cette action supprimera définitivement le kit "',i==null?void 0:i.nom,'" et ne pourra pas être annulée.']})]}),e.jsxs(E,{children:[e.jsx(K,{children:"Annuler"}),e.jsx(P,{onClick:w,children:"Supprimer"})]})]})})]})}export{ve as default};
//# sourceMappingURL=Index-CSx4EOGj.js.map
