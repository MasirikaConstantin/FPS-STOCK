{"version":3,"file":"Show-DSJfPLcG.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/circle-check.js","../../../resources/js/pages/Users/Show.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n];\nconst CircleCheck = createLucideIcon(\"CircleCheck\", __iconNode);\n\nexport { __iconNode, CircleCheck as default };\n//# sourceMappingURL=circle-check.js.map\n","import { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport AppLayout from '@/layouts/app-layout';\nimport { PageProps } from '@/types/types';\nimport { Head, Link } from '@inertiajs/react';\nimport { BreadcrumbItem } from '@/types';\nimport { Badge } from '@/components/ui/badge';\nimport { User } from '@/types';\nimport { CheckCircle2Icon, PencilIcon, TrashIcon, UserIcon } from 'lucide-react';\nimport { useState } from 'react';\nimport DeleteUserDialog from '@/components/DeleteUserDialog';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { P } from 'node_modules/framer-motion/dist/types.d-B_QPEvFK';\nimport UserStats from './Stats';\n\ninterface ShowProps extends PageProps {\n    user: User;\n    canEdit: boolean;\n    createdBy: User;\n    updatedBy: User;\n}\n\nexport default function Show({ user, canEdit, auth }: ShowProps) {\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n   // console.log(user);\n    const breadcrumbs: BreadcrumbItem[] = [\n        {\n            title: 'Utilisateurs',\n            href: route('users.index'),\n        },\n        {\n            title: user.name,\n            href: '#',\n        },\n    ];\n    const isAdminCentral = auth.user.role === 'admin_central';\n    const peutVoirSesPropresUtilisateurs = auth.user.role === 'admin' && auth.user.profile?.hopital_id === user.profile?.hopital_id;\n    //console.log(user);\n    //console.log(peutVoirSesPropresUtilisateurs );\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title={user.name} />\n\n            <div className=\"py-12\">\n                <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                        <Card className=\"md:col-span-1\">\n                            <CardHeader>\n                                <div className=\"flex flex-col items-center space-y-4\">\n                                    <div className=\"relative\">\n                                        {user.avatar ? (\n                                            <img\n                                                src={user.avatar_url}\n                                                alt={user.name}\n                                                className=\"h-24 w-24 rounded-full\"\n                                            />\n                                        ) : (\n                                            <div className=\"h-24 w-24 rounded-full bg-gray-100 flex items-center justify-center\">\n                                                <UserIcon className=\"h-12 w-12 text-gray-400\" />\n                                            </div>\n                                        )}\n                                        <Badge\n                                            variant={user.is_active ? 'default' : 'destructive'}\n                                            className=\"absolute -bottom-2 -right-2\"\n                                        >\n                                            {user.is_active ? 'Actif' : 'Inactif'}\n                                        </Badge>\n                                    </div>\n                                    <div className=\"text-center\">\n                                        <CardTitle>{user.name}</CardTitle>\n                                        <CardDescription>{user.email}</CardDescription>\n                                    </div>\n                                </div>\n                            </CardHeader>\n                            <CardContent className=\"flex justify-center space-x-2\">\n                                {canEdit && (\n                                    <>\n                                        <Button variant=\"outline\" asChild>\n                                            <Link href={route('users.edit', user.ref)}>\n                                                <PencilIcon className=\"mr-2 h-4 w-4\" />\n                                                Modifier\n                                            </Link>\n                                        </Button>\n                                        <Button\n                                            variant=\"destructive\"\n                                            onClick={() => setDeleteDialogOpen(true)}\n                                        >\n                                            <TrashIcon className=\"mr-2 h-4 w-4\" />\n                                            Supprimer\n                                        </Button>\n                                    </>\n                                )}\n                            </CardContent>\n                        </Card>\n\n                        <Card className=\"md:col-span-2\">\n                            <CardHeader>\n                                <CardTitle>Informations</CardTitle>\n                                <CardDescription>Détails du profil utilisateur</CardDescription>\n                            </CardHeader>\n                            <CardContent>\n                                <div className=\"space-y-4\">\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div>\n                                            <h4 className=\"text-sm font-medium text-gray-500\">Rôle</h4>\n                                            <Badge variant={user.role === 'admin_central' ? 'default' : 'outline'}>\n                                                {user.role}\n                                            </Badge>\n                                        </div>\n                                        <div>\n                                            <h4 className=\"text-sm font-medium text-gray-500\">Hôpital</h4>\n                                            <p>{user.profile?.hopital?.nom || '-'}</p>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div>\n                                            <h4 className=\"text-sm font-medium text-gray-500\">Téléphone</h4>\n                                            <p>{user.profile?.phone || '-'}</p>\n                                        </div>\n                                        <div>\n                                            <h4 className=\"text-sm font-medium text-gray-500\">Dernière connexion</h4>\n                                            <p>\n                                                {user.last_login_at\n                                                    ? new Date(user.last_login_at).toLocaleString()\n                                                    : 'Jamais'}\n                                            </p>\n                                        </div>\n                                    </div>\n\n                                    <div>\n                                        <h4 className=\"text-sm font-medium text-gray-500\">Adresse</h4>\n                                        <p>{user.profile?.address || '-'}</p>\n                                    </div>\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        {user.created_by ? (\n                                            <div>\n                                                <h4 className=\"text-sm font-medium text-gray-500\">Créé par</h4>\n                                                <p>{user.created_by?.name}</p>\n                                                {user.created_by?.avatar ?(\n                                                    <Avatar>\n                                                    <AvatarImage src={user.created_by.avatar_url} alt=\"@shadcn\" />\n                                                    <AvatarFallback>CN</AvatarFallback>\n                                                </Avatar>\n                                                )\n                                                : (\n                                                    <div className=\"h-6 w-6 rounded-full bg-gray-100 flex items-center justify-center\">\n                                                        <UserIcon className=\"h-3 w-3 text-gray-400\" />\n                                                    </div>\n                                                )\n                                                } \n                                            </div>\n                                        ) : null}\n                                        {user.updated_by ?  (\n                                            <div>\n                                            <h4 className=\"text-sm font-medium text-gray-500\">Modifier par</h4>\n                                            <p>{user.updated_by?.name}</p>\n                                            {user.updated_by?.avatar ?(\n                                                <Avatar>\n                                                <AvatarImage src={user.updated_by.avatar_url} alt=\"@shadcn\" />\n                                                <AvatarFallback>CN</AvatarFallback>\n                                            </Avatar>\n                                            )\n                                            : (\n                                                <div className=\"h-6 w-6 rounded-full bg-gray-100 flex items-center justify-center\">\n                                                    <UserIcon className=\"h-3 w-3 text-gray-400\" />\n                                                </div>\n                                            )\n                                            } \n                                        </div>\n                                        ) : null}\n\n                                        \n                                    </div>\n                                            <div>\n                                                \n                                            {isAdminCentral || peutVoirSesPropresUtilisateurs ? (\n                                                <>\n                                                    <p> Les Permissions</p>\n                                                    {user.permissions?.map((permission) => (\n                                                        <div key={permission.id} className='mb-1'>\n                                                            <Badge variant=\"default\" className='mr-1' >{permission.name}</Badge> <Badge variant={'secondary'}>Par : {permission.granted_by_name}</Badge> \n                                                             \n                                                        </div>\n\n                                                    ))}\n                                                </>\n                                            ) : null}\n                                            </div>\n                                    \n                                </div>\n                            </CardContent>\n\n                        </Card>\n                        \n                        {!user.email_verified_at && (\n                            <Alert>\n                                <CheckCircle2Icon />\n                                <AlertTitle>Vérification requise</AlertTitle>\n                                <AlertDescription>\n                                    Veuillez vérifier votre adresse e-mail pour activer votre compte. Un lien de confirmation vous a été envoyé.\n                                </AlertDescription>\n                            </Alert>\n                        )}\n                    </div>\n                    <UserStats auth={auth} user={user} />\n\n                </div>\n            </div>\n\n            <DeleteUserDialog\n                open={deleteDialogOpen}\n                onOpenChange={setDeleteDialogOpen}\n                user={user}\n            />\n        </AppLayout>\n    );\n}"],"names":["__iconNode","CircleCheck","createLucideIcon","Show","user","canEdit","auth","deleteDialogOpen","setDeleteDialogOpen","useState","breadcrumbs","isAdminCentral","peutVoirSesPropresUtilisateurs","_a","_b","jsxs","AppLayout","jsx","Head","Card","CardHeader","UserIcon","Badge","CardTitle","CardDescription","CardContent","Fragment","Button","Link","PencilIcon","TrashIcon","_d","_c","_e","_f","_g","_h","Avatar","AvatarImage","AvatarFallback","_i","_j","_k","permission","Alert","CheckCircle2Icon","AlertTitle","AlertDescription","UserStats","DeleteUserDialog"],"mappings":"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","x_google_ignoreList":[0]}