{"version":3,"file":"Mouvements copy-DHf3wb8_.js","sources":["../../../resources/js/pages/Stock/Mouvements copy.tsx"],"sourcesContent":["import { Head, Link } from '@inertiajs/react';\nimport { Button } from '@/components/ui/button';\nimport { Eye, Minus, Plus } from 'lucide-react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n} from \"@/components/ui/pagination\"\nimport { PageProps, StockMouvement } from '@/types/types';\nimport AppLayout from '@/layouts/app-layout';\nimport { BreadcrumbItem } from '@/types';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\ninterface MouvementsProps extends PageProps {\n  mouvements: {\n    ref: string;\n    data: StockMouvement[];\n    links: {\n      url: string | null;\n      label: string;\n      active: boolean;\n    }[];\n  };\n}\n\nexport default function Mouvements({ mouvements, auth }: MouvementsProps) {\n  const breadcrumbs: BreadcrumbItem[]  = [\n    {\n        title: 'Stock',\n        href: route('stocks.index'),\n    },\n    {\n        title: 'Mouvements',\n        href: route('stock.mouvements.index'),\n    },\n]\n  return (\n    <AppLayout breadcrumbs={breadcrumbs}>\n      <Head title=\"Mouvements de Stock\" />\n\n      <div className=\" py-12\">\n            <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6\">\n                      <Card>\n                        <CardHeader className=\"flex flex-row items-center justify-between space-y-0\">\n                          <CardTitle className=\"text-2xl font-bold\">Mouvements de Stock</CardTitle>\n                          <div className=\"flex space-x-2\">\n                          <Link className=\"mr-2\" href={route('stock.mouvements.direct-out.create')}>\n                            <Button variant=\"outline\" className=\"gap-2\">\n                              <Minus className=\"h-4 w-4\" />\n                              Sortie Directe\n                            </Button>\n                          </Link>\n                          {auth.user.role === 'admin_central' && (\n                            <Link href={route('stock.entree.create')}>\n                              <Button variant=\"outline\" className=\"gap-2\">\n                                <Plus className=\"h-4 w-4\" />\n                                Entrée Stock\n                              </Button>\n                            </Link>\n                          )}\n                          </div>\n                        </CardHeader>\n                      \n\n                      <CardContent className=\" rounded-lg shadow\">\n                        <Table>\n                          <TableHeader>\n                            <TableRow>\n                              <TableHead>Date</TableHead>\n                              <TableHead>Type</TableHead>\n                              <TableHead>Produit</TableHead>\n                              <TableHead>Hôpital</TableHead>\n                              <TableHead>Quantité</TableHead>\n                              <TableHead>Raison</TableHead>\n                              <TableHead>Par</TableHead>\n                              <TableHead>Actions</TableHead>\n                            </TableRow>\n                          </TableHeader>\n                          <TableBody>\n                            {mouvements.data.map((mouvement) => (\n                              <TableRow key={mouvement.id}>\n                                <TableCell>\n                                  {new Date(mouvement.created_at).toLocaleString()}\n                                </TableCell>\n                                <TableCell>\n                                  <span className={`px-2 py-1 rounded-full text-xs ${\n                                    mouvement.type === 'entree' \n                                      ? 'bg-green-100 text-green-800' \n                                      : 'bg-red-100 text-red-800'\n                                  }`}>\n                                    {mouvement.type === 'entree' ? 'Entrée' : 'Sortie'}\n                                  </span>\n                                </TableCell>\n                                <TableCell>{mouvement.medical_produit.name}</TableCell>\n                                <TableCell>{mouvement.hopital ? mouvement.hopital.nom : 'Entrepôt central'}</TableCell>\n                                <TableCell>{mouvement.quantite}</TableCell>\n                                <TableCell>{mouvement.raison}</TableCell>\n                                <TableCell>{mouvement.created_by.name}</TableCell>\n                                <TableCell>\n                                  <Link href={route('stock.entree.show', mouvement.ref)} className=\"text-primary hover:underline flex items-center\">\n                                    <Eye className=\"h-4 w-4 mr-2\" />\n                                    Voir\n                                  </Link>\n                                </TableCell>\n                              </TableRow>\n                            ))}\n                          </TableBody>\n                        </Table>\n                      </CardContent>\n\n                      {mouvements.links.length > 3 && (\n                        <div className=\"mt-4 flex justify-center\">\n                          <Pagination>\n                            <PaginationContent>\n                              {mouvements.links.map((link, index) => {\n                                // Gérer le bouton \"Previous\"\n                                if (index === 0) {\n                                  return (\n                                    <PaginationItem key={index}>\n                                      <PaginationPrevious \n                                        href={link.url || '#'} \n                                        className={!link.url ? 'pointer-events-none opacity-50' : ''}\n                                      />\n                                    </PaginationItem>\n                                  );\n                                }\n                                \n                                // Gérer le bouton \"Next\"\n                                if (index === mouvements.links.length - 1) {\n                                  return (\n                                    <PaginationItem key={index}>\n                                      <PaginationNext \n                                        href={link.url || '#'} \n                                        className={!link.url ? 'pointer-events-none opacity-50' : ''}\n                                      />\n                                    </PaginationItem>\n                                  );\n                                }\n                                \n                                // Gérer les points de suspension si le label est \"...\"\n                                if (link.label === '...') {\n                                  return (\n                                    <PaginationItem key={index}>\n                                      <PaginationEllipsis />\n                                    </PaginationItem>\n                                  );\n                                }\n                                \n                                // Gérer les numéros de page\n                                return (\n                                  <PaginationItem key={index}>\n                                    <PaginationLink \n                                      href={link.url || '#'}\n                                      isActive={link.active}\n                                    >\n                                      {link.label}\n                                    </PaginationLink>\n                                  </PaginationItem>\n                                );\n                              })}\n                            </PaginationContent>\n                          </Pagination>\n                        </div>\n                      )}\n                      </Card>  \n                    </div>\n                </div>\n    </AppLayout>\n  );\n}"],"names":["Mouvements","mouvements","auth","breadcrumbs","jsxs","AppLayout","jsx","Head","Card","CardHeader","CardTitle","Link","Button","Minus","Plus","CardContent","Table","TableHeader","TableRow","TableHead","TableBody","mouvement","TableCell","Eye","Pagination","PaginationContent","link","index","PaginationItem","PaginationPrevious","PaginationNext","PaginationEllipsis","PaginationLink"],"mappings":"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"}