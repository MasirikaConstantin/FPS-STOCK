import{m as F,j as e,L as b,$ as A,t as p}from"./app-CQvyAInf.js";import{B as h}from"./button-qelRmArg.js";import{C as M,a as L,b as q,e as z,c as I,d as D}from"./card-D2Gq_jtJ.js";import{I as d}from"./input-Blf29Qex.js";import{L as t}from"./label-DXuQz94P.js";import{S as E}from"./switch-Mki_i8nL.js";import{A as R}from"./app-layout-mQZNAdUE.js";import{S as x,a as j,b as v,c as u,d as g}from"./select-DsVvSlVc.js";import"./app-CbyD8i4Z.js";import"./index-Dh4Dnqzu.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-CDtDhRNb.js";import"./index-Csg-B5yo.js";import"./index-B6QC96uA.js";import"./app-logo-icon-CYEPLqCw.js";import"./car-front-3ODHaHDz.js";import"./package-BH85mpxF.js";import"./index-D1Z7h3vH.js";import"./check-3WY5HJZB.js";function ae({user:s,hopitals:f,roles:N}){var o,c,n,m;const{data:l,setData:r,post:C,put:_,processing:w,errors:i}=F({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",password:"",password_confirmation:"",role:(s==null?void 0:s.role)||"admin",phone:((o=s==null?void 0:s.profile)==null?void 0:o.phone)||"",address:((c=s==null?void 0:s.profile)==null?void 0:c.address)||"",hopital_id:((n=s==null?void 0:s.profile)==null?void 0:n.hopital_id)||void 0,is_active:(s==null?void 0:s.is_active)??!0}),y=a=>{a.preventDefault(),s?_(route("users.update",s.id),{onSuccess:()=>p.success("Utilisateur mis à jour avec succès")}):C(route("users.store"),{onSuccess:()=>p.success("Utilisateur créé avec succès")})},S=[{title:"Utilisateurs",href:route("users.index")},{title:s?"Modifier utilisateur":"Nouvel utilisateur",href:"#"}];return e.jsxs(R,{breadcrumbs:S,children:[e.jsx(b,{title:s?"Modifier utilisateur":"Nouvel utilisateur"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(M,{children:[e.jsxs(L,{children:[e.jsx(q,{children:s?"Modifier l'utilisateur":"Créer un nouvel utilisateur"}),e.jsxs(z,{children:["Remplissez les champs ci-dessous pour ",s?"modifier":"créer"," un utilisateur"]})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nom complet"}),e.jsx(d,{id:"name",value:l.name,onChange:a=>r("name",a.target.value),placeholder:"Nom complet",required:!0}),i.name&&e.jsx("p",{className:"text-sm text-red-500",children:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",value:l.email,onChange:a=>r("email",a.target.value),placeholder:"Email",required:!0}),i.email&&e.jsx("p",{className:"text-sm text-red-500",children:i.email})]})]}),!s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password",children:"Mot de passe"}),e.jsx(d,{id:"password",type:"password",value:l.password,onChange:a=>r("password",a.target.value),placeholder:"Mot de passe",required:!s}),i.password&&e.jsx("p",{className:"text-sm text-red-500",children:i.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password_confirmation",children:"Confirmation"}),e.jsx(d,{id:"password_confirmation",type:"password",value:l.password_confirmation,onChange:a=>r("password_confirmation",a.target.value),placeholder:"Confirmez le mot de passe",required:!s})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"role",children:"Rôle"}),e.jsxs(x,{value:l.role,onValueChange:a=>r("role",a),children:[e.jsx(j,{children:e.jsx(v,{placeholder:"Sélectionnez un rôle"})}),e.jsx(u,{children:N.map(a=>e.jsx(g,{value:a,children:a},a))})]}),i.role&&e.jsx("p",{className:"text-sm text-red-500",children:i.role})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"hopital_id",children:"Hôpital"}),e.jsxs(x,{value:((m=l.hopital_id)==null?void 0:m.toString())||"",onValueChange:a=>r("hopital_id",a?parseInt(a):void 0),disabled:l.role==="admin_central",children:[e.jsx(j,{children:e.jsx(v,{placeholder:"Sélectionnez un hôpital"})}),e.jsx(u,{children:f.map(a=>e.jsx(g,{value:a.id.toString(),children:a.nom},a.id))})]}),i.hopital_id&&e.jsx("p",{className:"text-sm text-red-500",children:i.hopital_id})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Téléphone"}),e.jsx(d,{id:"phone",value:l.phone,onChange:a=>r("phone",a.target.value),placeholder:"Numéro de téléphone"}),i.phone&&e.jsx("p",{className:"text-sm text-red-500",children:i.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"address",children:"Adresse"}),e.jsx(d,{id:"address",value:l.address,onChange:a=>r("address",a.target.value),placeholder:"Adresse"}),i.address&&e.jsx("p",{className:"text-sm text-red-500",children:i.address})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{id:"is_active",checked:l.is_active,onCheckedChange:a=>r("is_active",a)}),e.jsx(t,{htmlFor:"is_active",children:"Actif"})]})]}),e.jsxs(D,{className:"flex justify-between mt-4",children:[e.jsx(h,{variant:"outline",asChild:!0,children:e.jsx(A,{href:route("users.index"),children:"Annuler"})}),e.jsx(h,{type:"submit",disabled:w,children:s?"Mettre à jour":"Créer"})]})]})]})})})]})}export{ae as default};
//# sourceMappingURL=Form-BASkBW9Z.js.map
