{"version":3,"file":"Index-CSx4EOGj.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/package-plus.js","../../../resources/js/pages/Kits/Index.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 16h6\", key: \"100bgy\" }],\n  [\"path\", { d: \"M19 13v6\", key: \"85cyf1\" }],\n  [\n    \"path\",\n    {\n      d: \"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14\",\n      key: \"e7tb2h\"\n    }\n  ],\n  [\"path\", { d: \"m7.5 4.27 9 5.15\", key: \"1c824w\" }],\n  [\"polyline\", { points: \"3.29 7 12 12 20.71 7\", key: \"ousv84\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"22\", y2: \"12\", key: \"a4e8g8\" }]\n];\nconst PackagePlus = createLucideIcon(\"PackagePlus\", __iconNode);\n\nexport { __iconNode, PackagePlus as default };\n//# sourceMappingURL=package-plus.js.map\n","import {\n    AlertDialog,\n    AlertDialogAction,\n    AlertDialogCancel,\n    AlertDialogContent,\n    AlertDialogDescription,\n    AlertDialogFooter,\n    AlertDialogHeader,\n    AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport AppLayout from '@/layouts/app-layout';\nimport { BreadcrumbItem } from '@/types';\nimport { App, PageProps } from '@/types/types';\nimport { Head, Link, router } from '@inertiajs/react';\nimport { Eye, MoreHorizontal, Pencil, Trash2, PackagePlus } from 'lucide-react';\nimport { useState } from 'react';\nimport { toast } from 'sonner';\nimport { KitsStatsCards } from './KitsStatsCards';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport default function Index({ kits, categories, stats }: PageProps<{ \n    kits: App.Kit[],\n    categories: App.Categorie[]\n}>) {\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n    const [kitToDelete, setKitToDelete] = useState<App.Kit | null>(null);\n    const [openDropdownId, setOpenDropdownId] = useState<string | null>(null);\n    const breadcrumbs: BreadcrumbItem[] = [\n        {\n            title: 'Gestion des Kits',\n            href: '/kits',\n        },\n    ];\n\n    const handleDelete = (kit: App.Kit) => {\n        setKitToDelete(kit);\n        setDeleteDialogOpen(true);\n        setOpenDropdownId(null);\n    };\n\n    const confirmDelete = () => {\n        if (!kitToDelete) return;\n\n        router.delete(route('kits.destroy', kitToDelete.ref), {\n            preserveScroll: true,\n            onSuccess: () => {\n                toast.success('Kit supprimé avec succès');\n                setDeleteDialogOpen(false);\n            },\n            onError: () => {\n                toast.error('Une erreur est survenue lors de la suppression');\n            },\n            onFinish: () => {\n                setOpenDropdownId(null);\n            },\n        });\n    };\n\n    const getCategoryName = (id: number) => {\n        return categories.find(c => c.id === id)?.nom || 'Inconnue';\n    };\n\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title=\"Gestion des Kits\" />\n\n            <div className=\"py-12\">\n                <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8\">\n                    <div className=\"mb-2\">\n                        <KitsStatsCards stats={stats || { active_kits: 0, inactive_kits: 0, total_items: 0, unique_types: 0 }} />\n                    </div>\n                    <Card className='mt-4'>\n                        <CardHeader className=\"flex justify-between items-center mb-6\">\n                            <CardTitle className=\"text-2xl font-bold\">\n                                Kits Médicaux Configurés\n                            </CardTitle>\n                                        <Button asChild>\n                                            <Link href={route('kits.create')}>\n                                                <PackagePlus className=\"mr-2 h-4 w-4\" />\n                                                Créer un Kit\n                                            </Link>\n                                        </Button>\n                        </CardHeader>\n                        <CardContent>\n                            <div className=\"overflow-hidden shadow-sm sm:rounded-lg\">\n                                <div className=\"p-6\">\n\n                                    <Table className=\"dark:text-gray-400cell w-full text-left text-sm text-gray-500 rtl:text-right\">\n                                        <TableHeader>\n                                            <TableRow>\n                                                <TableHead>Nom</TableHead>\n                                                <TableHead>Catégorie</TableHead>\n                                                <TableHead>Description</TableHead>\n                                                <TableHead>Statut</TableHead>\n                                                <TableHead>Créé par</TableHead>\n                                                <TableHead>Actions</TableHead>\n                                            </TableRow>\n                                        </TableHeader>\n                                        <TableBody>\n                                            {kits && kits.length > 0 ? (\n                                                kits.map((kit) => (\n                                                    <TableRow key={kit.id}>\n                                                        <TableCell className=\"font-medium text-black dark:text-white\">\n                                                            {kit.nom}\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            {getCategoryName(kit.categorie_id)}\n                                                        </TableCell>\n                                                        <TableCell className=\"max-w-xs truncate\">\n                                                            {kit.description || 'Aucune description'}\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <Badge variant={kit.is_active ? 'default' : 'destructive'}>\n                                                                {kit.is_active ? 'Actif' : 'Inactif'}\n                                                            </Badge>\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            {kit.created_by?.name || 'Système'}\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <DropdownMenu\n                                                                open={openDropdownId === kit.ref}\n                                                                onOpenChange={(open) => {\n                                                                    setOpenDropdownId(open ? kit.ref : null);\n                                                                }}\n                                                            >\n                                                                <DropdownMenuTrigger asChild>\n                                                                    <Button\n                                                                        variant=\"ghost\"\n                                                                        className=\"h-8 w-8 p-0\"\n                                                                        onClick={(e) => e.stopPropagation()}\n                                                                    >\n                                                                        <MoreHorizontal className=\"h-4 w-4\" />\n                                                                    </Button>\n                                                                </DropdownMenuTrigger>\n                                                                <DropdownMenuContent\n                                                                    align=\"end\"\n                                                                    onInteractOutside={() => setOpenDropdownId(null)}\n                                                                >\n                                                                    <DropdownMenuItem asChild>\n                                                                        <Link\n                                                                            href={route('kits.show', kit.ref)}\n                                                                            className=\"flex items-center\"\n                                                                            onClick={() => setOpenDropdownId(null)}\n                                                                        >\n                                                                            <Eye className=\"mr-2 h-4 w-4\" />\n                                                                            Voir\n                                                                        </Link>\n                                                                    </DropdownMenuItem>\n                                                                    <DropdownMenuItem asChild>\n                                                                        <Link\n                                                                            href={route('kits.edit', kit.ref)}\n                                                                            className=\"flex items-center\"\n                                                                            onClick={() => setOpenDropdownId(null)}\n                                                                        >\n                                                                            <Pencil className=\"mr-2 h-4 w-4\" />\n                                                                            Modifier\n                                                                        </Link>\n                                                                    </DropdownMenuItem>\n                                                                    <DropdownMenuItem\n                                                                        className=\"text-red-600 focus:bg-red-50 focus:text-red-600\"\n                                                                        onClick={(e) => {\n                                                                            e.preventDefault();\n                                                                            handleDelete(kit);\n                                                                            setOpenDropdownId(null);\n                                                                        }}\n                                                                    >\n                                                                        <Trash2 className=\"mr-2 h-4 w-4\" />\n                                                                        Supprimer\n                                                                    </DropdownMenuItem>\n                                                                </DropdownMenuContent>\n                                                            </DropdownMenu>\n                                                        </TableCell>\n                                                    </TableRow>\n                                                ))\n                                            ) : (\n                                                <TableRow>\n                                                    <TableCell colSpan={6} className=\"py-4 text-center\">\n                                                        <div className=\"text-gray-500\">Aucun kit trouvé.</div>\n                                                        <Button asChild variant=\"link\" className=\"mt-2\">\n                                                            <Link href={route('kits.create')}>Créer un kit</Link>\n                                                        </Button>\n                                                    </TableCell>\n                                                </TableRow>\n                                            )}\n                                        </TableBody>\n                                    </Table>\n                                </div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </div>\n            </div>\n\n            <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n                <AlertDialogContent>\n                    <AlertDialogHeader>\n                        <AlertDialogTitle>Êtes-vous sûr ?</AlertDialogTitle>\n                        <AlertDialogDescription>\n                            Cette action supprimera définitivement le kit \"{kitToDelete?.nom}\" et ne pourra pas être annulée.\n                        </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    <AlertDialogFooter>\n                        <AlertDialogCancel>Annuler</AlertDialogCancel>\n                        <AlertDialogAction onClick={confirmDelete}>Supprimer</AlertDialogAction>\n                    </AlertDialogFooter>\n                </AlertDialogContent>\n            </AlertDialog>\n        </AppLayout>\n    );\n}"],"names":["__iconNode","PackagePlus","createLucideIcon","Index","kits","categories","stats","deleteDialogOpen","setDeleteDialogOpen","useState","kitToDelete","setKitToDelete","openDropdownId","setOpenDropdownId","breadcrumbs","handleDelete","kit","confirmDelete","router","toast","getCategoryName","id","_a","c","jsxs","AppLayout","jsx","Head","KitsStatsCards","Card","CardHeader","CardTitle","Button","Link","CardContent","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Badge","DropdownMenu","open","DropdownMenuTrigger","e","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Eye","Pencil","Trash2","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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","x_google_ignoreList":[0]}