import{r as d,j as e,L as N,$ as i,S as b,t as u}from"./app-CfIQfryc.js";import{T as A,A as y,a as T,b as S,c as H,d as k,e as E,f as I,g as O}from"./alert-dialog-B252CZ34.js";import{B as p}from"./badge-CEGVyFq6.js";import{B as x}from"./button-By8FOct-.js";import{C as B,a as L,b as M,c as P}from"./card-DdvJbsWn.js";import{A as _,a as R,b as F,c as G,d as m}from"./app-layout-DBCqPTBR.js";import{T as V,a as $,b as h,c as a,d as U,e as s}from"./table-BeH2ah0y.js";import{E as q}from"./ellipsis-4FxrYdR1.js";import{E as z}from"./eye-skH557t9.js";import{P as J}from"./pencil-BG30dTx7.js";import"./app-XAPMnnx3.js";import"./createLucideIcon-DjaE45rK.js";import"./index-F55flZwV.js";import"./utils-jAU0Cazi.js";import"./index-BSyT1Gdz.js";import"./index-B8Z1OlCE.js";import"./app-logo-icon-Cf6SMoi-.js";import"./car-front-B2ibBUtT.js";import"./package-CAWIZc5k.js";function he({hospitals:c}){const[j,o]=d.useState(!1),[n,f]=d.useState(null),[g,t]=d.useState(null),C=[{title:"Hôpitaux",href:"/hospitals"}],v=r=>{f(r),o(!0),t(null)},D=()=>{n&&b.delete(route("hopitals.destroy",n.ref),{preserveScroll:!0,onSuccess:()=>{u.success("Hôpital supprimé avec succès"),o(!1)},onError:()=>{u.error("Une erreur est survenue lors de la suppression")},onFinish:()=>{t(null)}})},w=r=>({central:"Central",general:"Général",reference:"Référence",centre_sante:"Centre de Santé"})[r]||r;return e.jsxs(_,{breadcrumbs:C,children:[e.jsx(N,{title:"Gestion des Hôpitaux"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs(B,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsx(M,{className:"text-xl font-semibold",children:"Hôpitaux"}),e.jsx(i,{href:route("hopitals.create"),className:"text-white",children:e.jsx(x,{children:"Nouveau Hôpital"})})]}),e.jsx(P,{children:e.jsx("div",{className:"p-6",children:e.jsxs(V,{className:"dark:text-gray-400cell w-full text-left text-sm text-gray-500 rtl:text-right",children:[e.jsx($,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Nom"}),e.jsx(a,{children:"Type"}),e.jsx(a,{children:"Province/Ville"}),e.jsx(a,{children:"Capacité"}),e.jsx(a,{children:"Statut"}),e.jsx(a,{children:"Date de création"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(U,{children:c&&c.length>0?c.map(r=>e.jsxs(h,{children:[e.jsx(s,{className:"font-medidum text-black dark:text-white",children:r.nom}),e.jsx(s,{children:r.type?e.jsx(p,{variant:"secondary",children:w(r.type)}):"-"}),e.jsxs(s,{children:[r.province," / ",r.ville]}),e.jsx(s,{children:r.capacite}),e.jsx(s,{children:e.jsx(p,{variant:r.is_active?"default":"destructive",children:r.is_active?"Actif":"Inactif"})}),e.jsx(s,{children:new Date(r.created_at).toLocaleDateString()}),e.jsx(s,{children:e.jsxs(R,{open:g===r.ref,onOpenChange:l=>{t(l?r.ref:null)},children:[e.jsx(F,{asChild:!0,children:e.jsx(x,{variant:"ghost",className:"h-8 w-8 p-0",onClick:l=>l.stopPropagation(),children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",onInteractOutside:()=>t(null),children:[e.jsx(m,{asChild:!0,children:e.jsxs(i,{href:route("hopitals.show",r.ref),className:"flex items-center",onClick:()=>t(null),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Voir"]})}),e.jsx(m,{asChild:!0,children:e.jsxs(i,{href:route("hopitals.edit",r.ref),className:"flex items-center",onClick:()=>t(null),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Modifier"]})}),e.jsxs(m,{className:"text-red-600 focus:bg-red-50 focus:text-red-600",onClick:l=>{l.preventDefault(),v(r),t(null)},children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},r.id)):e.jsx(h,{children:e.jsxs(s,{colSpan:8,className:"py-4 text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Aucun hôpital trouvé."}),e.jsx(x,{asChild:!0,variant:"link",className:"mt-2",children:e.jsx(i,{href:route("hopitals.create"),children:"Créer un hôpital"})})]})})})]})})})]})})})}),e.jsx(y,{open:j,onOpenChange:o,children:e.jsxs(T,{children:[e.jsxs(S,{children:[e.jsx(H,{children:"Êtes-vous sûr ?"}),e.jsxs(k,{children:[`Cette action supprimera définitivement l'hôpital "`,n==null?void 0:n.nom,'" et ne pourra pas être annulée.']})]}),e.jsxs(E,{children:[e.jsx(I,{children:"Annuler"}),e.jsx(O,{onClick:D,children:"Supprimer"})]})]})})]})}export{he as default};
//# sourceMappingURL=Index-De9U9kBM.js.map
