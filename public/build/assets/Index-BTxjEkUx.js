import{r as d,j as e,L as b,$ as i,S as y,t as j}from"./app-CfIQfryc.js";import{T as S,A as T,a as k,b as F,c as E,d as I,e as O,f as B,g as M}from"./alert-dialog-B252CZ34.js";import{B as u}from"./badge-CEGVyFq6.js";import{B as x}from"./button-By8FOct-.js";import{C as H,a as L,b as _,c as P}from"./card-DdvJbsWn.js";import{A as G,a as R,b as $,c as U,d as h}from"./app-layout-DBCqPTBR.js";import{T as V,a as q,b as m,c as l,d as z,e as r}from"./table-BeH2ah0y.js";import{E as J}from"./ellipsis-4FxrYdR1.js";import{E as K}from"./eye-skH557t9.js";import{P as Q}from"./pencil-BG30dTx7.js";import"./app-XAPMnnx3.js";import"./createLucideIcon-DjaE45rK.js";import"./index-F55flZwV.js";import"./utils-jAU0Cazi.js";import"./index-BSyT1Gdz.js";import"./index-B8Z1OlCE.js";import"./app-logo-icon-Cf6SMoi-.js";import"./car-front-B2ibBUtT.js";import"./package-CAWIZc5k.js";function je({fournisseurs:c}){const[f,o]=d.useState(!1),[n,g]=d.useState(null),[C,t]=d.useState(null),D=[{title:"Fournisseurs",href:"/fournisseurs"}],N=s=>{g(s),o(!0),t(null)},v=()=>{n&&y.delete(route("fournisseurs.destroy",n.ref),{preserveScroll:!0,onSuccess:()=>{j.success("Fournisseur supprimé avec succès"),o(!1)},onError:()=>{j.error("Une erreur est survenue lors de la suppression")},onFinish:()=>{t(null)}})},w=s=>s?new Date(s).toLocaleDateString():"-";return e.jsxs(G,{breadcrumbs:D,children:[e.jsx(b,{title:"Gestion des Fournisseurs"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs(H,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsx(_,{className:"text-xl font-semibold",children:"Gestion des Fournisseurs"}),e.jsx(i,{href:route("fournisseurs.create"),className:"text-white",children:e.jsx(x,{children:"Nouveau Fournisseur"})})]}),e.jsx(P,{children:e.jsx("div",{className:"p-6",children:e.jsxs(V,{className:"dark:text-gray-400cell w-full text-left text-sm text-gray-500 rtl:text-right",children:[e.jsx(q,{children:e.jsxs(m,{children:[e.jsx(l,{children:"Nom"}),e.jsx(l,{children:"Contact"}),e.jsx(l,{children:"Spécialités"}),e.jsx(l,{children:"Statut"}),e.jsx(l,{children:"Créé par"}),e.jsx(l,{children:"Date de création"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(z,{children:c&&c.length>0?c.map(s=>{var p;return e.jsxs(m,{children:[e.jsx(r,{className:"font-medidum text-black dark:text-white",children:s.nom}),e.jsxs(r,{children:[s.contact_person||"-",s.phone&&e.jsx("div",{className:"text-sm text-gray-500",children:s.phone})]}),e.jsx(r,{children:Array.isArray(s.specialties)&&s.specialties.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.specialties.map((a,A)=>e.jsx(u,{variant:"outline",children:a},A))}):"-"}),e.jsx(r,{children:e.jsx(u,{variant:s.is_active?"default":"destructive",children:s.is_active?"Actif":"Inactif"})}),e.jsx(r,{children:((p=s.creator)==null?void 0:p.name)||"Système"}),e.jsx(r,{children:w(s.created_at)}),e.jsx(r,{children:e.jsxs(R,{open:C===s.ref,onOpenChange:a=>{t(a?s.ref:null)},children:[e.jsx($,{asChild:!0,children:e.jsx(x,{variant:"ghost",className:"h-8 w-8 p-0",onClick:a=>a.stopPropagation(),children:e.jsx(J,{className:"h-4 w-4"})})}),e.jsxs(U,{align:"end",onInteractOutside:()=>t(null),children:[e.jsx(h,{asChild:!0,children:e.jsxs(i,{href:route("fournisseurs.show",s.ref),className:"flex items-center",onClick:()=>t(null),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Voir"]})}),e.jsx(h,{asChild:!0,children:e.jsxs(i,{href:route("fournisseurs.edit",s.ref),className:"flex items-center",onClick:()=>t(null),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Modifier"]})}),e.jsxs(h,{className:"text-red-600 focus:bg-red-50 focus:text-red-600",onClick:a=>{a.preventDefault(),N(s),t(null)},children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},s.id)}):e.jsx(m,{children:e.jsxs(r,{colSpan:8,className:"py-4 text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Aucun fournisseur trouvé."}),e.jsx(x,{asChild:!0,variant:"link",className:"mt-2",children:e.jsx(i,{href:route("fournisseurs.create"),children:"Créer un fournisseur"})})]})})})]})})})]})})})}),e.jsx(T,{open:f,onOpenChange:o,children:e.jsxs(k,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Êtes-vous sûr ?"}),e.jsxs(I,{children:['Cette action supprimera définitivement le fournisseur "',n==null?void 0:n.nom,'" et ne pourra pas être annulée.']})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Annuler"}),e.jsx(M,{onClick:v,children:"Supprimer"})]})]})})]})}export{je as default};
//# sourceMappingURL=Index-BTxjEkUx.js.map
