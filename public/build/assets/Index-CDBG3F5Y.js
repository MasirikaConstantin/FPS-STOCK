import{r as d,j as e,L as v,$ as n,S as b,t as j}from"./app-DgZYpFq7.js";import{T as A,A as S,a as T,b as k,c as E,d as I,e as O,f as B,g as M}from"./alert-dialog-DNG5j5Bt.js";import{B as H}from"./badge-CwTEI7kw.js";import{B as x}from"./button-DzvBAvYb.js";import{C as L,a as P,b as _,c as F}from"./card-p61obAJe.js";import{A as G,a as R,b as $,c as y,d as m}from"./app-layout-91MyU6xV.js";import{T as U,a as V,b as h,c as a,d as q,e as t}from"./table-FW4F-V4U.js";import{E as z}from"./ellipsis-BI_TzJKa.js";import{E as J}from"./eye-C_ZkakFS.js";import{P as K}from"./pencil-DpzAsbso.js";import"./app-nklVn4u_.js";import"./createLucideIcon-Bp4--aub.js";import"./index-C9XCcCFj.js";import"./utils-jAU0Cazi.js";import"./index-DOjrUmdc.js";import"./index-DUIdKc2i.js";import"./app-logo-icon-Dkusirb4.js";import"./car-front-DHnhNWiQ.js";import"./package-CUTUJuVR.js";function pe({categories:o}){const[f,c]=d.useState(!1),[i,C]=d.useState(null),[g,r]=d.useState(null),D=[{title:"Catégories",href:"/categories"}],w=s=>{C(s),c(!0),r(null)},N=()=>{i&&b.delete(route("categories.destroy",i.id),{preserveScroll:!0,onSuccess:()=>{j.success("Catégorie supprimée avec succès"),c(!1)},onError:()=>{j.error("Une erreur est survenue lors de la suppression")},onFinish:()=>{r(null)}})};return e.jsxs(G,{breadcrumbs:D,children:[e.jsx(v,{title:"Gestion des Catégories"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs(L,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsx(_,{className:"text-xl font-semibold",children:"Gestion des Catégories"}),e.jsx(x,{className:"mb-3",children:e.jsx(n,{href:route("categories.create"),children:"Créer une Catégorie"})})]}),e.jsx(F,{children:e.jsx("div",{className:"p-6",children:e.jsxs(U,{className:"dark:text-gray-400cell w-full text-left text-sm text-gray-500 rtl:text-right",children:[e.jsx(V,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Nom"}),e.jsx(a,{children:"Description"}),e.jsx(a,{children:"Statut"}),e.jsx(a,{children:"Créé par"}),e.jsx(a,{children:"Date de création"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(q,{children:o&&o.length>0?o.map(s=>{var p,u;return e.jsxs(h,{children:[e.jsx(t,{className:"font-medidum text-black dark:text-white",children:s.nom}),e.jsx(t,{children:((p=s.description)==null?void 0:p.slice(0,30))||"-"}),e.jsx(t,{children:e.jsx(H,{variant:s.is_active?"default":"destructive",children:s.is_active?"Actif":"Inactif"})}),e.jsx(t,{children:((u=s.creator)==null?void 0:u.name)||"Système"}),e.jsx(t,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(t,{children:e.jsxs(R,{open:g===s.id,onOpenChange:l=>{r(l?s.id:null)},children:[e.jsx($,{asChild:!0,children:e.jsx(x,{variant:"ghost",className:"h-8 w-8 p-0",onClick:l=>l.stopPropagation(),children:e.jsx(z,{className:"h-4 w-4"})})}),e.jsxs(y,{align:"end",onInteractOutside:()=>r(null),children:[e.jsx(m,{asChild:!0,children:e.jsxs(n,{href:route("categories.show",s.ref),className:"flex items-center",onClick:()=>r(null),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Voir"]})}),e.jsx(m,{asChild:!0,children:e.jsxs(n,{href:route("categories.edit",s.ref),className:"flex items-center",onClick:()=>r(null),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Modifier"]})}),e.jsxs(m,{className:"text-red-600 focus:bg-red-50 focus:text-red-600",onClick:l=>{l.preventDefault(),w(s),r(null)},children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},s.id)}):e.jsx(h,{children:e.jsxs(t,{colSpan:6,className:"py-4 text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Aucune catégorie trouvée."}),e.jsx(x,{asChild:!0,variant:"link",className:"mt-2",children:e.jsx(n,{href:route("categories.create"),children:"Créer une catégorie"})})]})})})]})})})]})})})}),e.jsx(S,{open:f,onOpenChange:c,children:e.jsxs(T,{children:[e.jsxs(k,{children:[e.jsx(E,{children:"Êtes-vous sûr ?"}),e.jsxs(I,{children:['Cette action supprimera définitivement la catégorie "',i==null?void 0:i.nom,'" et ne pourra pas être annulée.']})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Annuler"}),e.jsx(M,{onClick:N,children:"Supprimer"})]})]})})]})}export{pe as default};
//# sourceMappingURL=Index-CDBG3F5Y.js.map
