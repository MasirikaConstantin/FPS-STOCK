import{m as F,j as e,L as k,$ as q,t as h}from"./app-DgZYpFq7.js";import{A as D}from"./app-layout-91MyU6xV.js";import{B as d}from"./button-DzvBAvYb.js";import{I as o}from"./input-CB4ew8zi.js";import{L as a}from"./label-F0jNYSZ-.js";import{S as c,a as u,b as m,c as x,d as n}from"./select-BT17riR4.js";import{P as j,a as v,b as _,C as f}from"./popover-Dabs5yRP.js";import{c as g}from"./utils-jAU0Cazi.js";import{C as E,a as A,b as H,c as L}from"./card-p61obAJe.js";import{C as N}from"./calendar-B_ov3jKm.js";import{f as C}from"./format-DoAzcPNu.js";import"./app-nklVn4u_.js";import"./index-C9XCcCFj.js";import"./createLucideIcon-Bp4--aub.js";import"./index-DOjrUmdc.js";import"./index-DUIdKc2i.js";import"./app-logo-icon-Dkusirb4.js";import"./car-front-DHnhNWiQ.js";import"./package-CUTUJuVR.js";import"./index-DpRMzoqq.js";import"./check-DYzCRmeT.js";import"./en-US-DCG5IRVV.js";import"./endOfMonth-BujD7vy8.js";import"./chevron-left-Hssx17dH.js";function le({produits:S,hopitals:y}){const{data:r,setData:i,post:b,processing:p,errors:s}=F({medical_produit_id:"",quantite:1,numero_lot:"",date_expiration:null,prix_unitaire:null,received_date:new Date,status:"disponible",hopital_id:null}),w=[{title:"Gestion des Stocks",href:"/stocks"},{title:"Ajouter une entrée",href:"/stocks/create"}],P=t=>{t.preventDefault(),b(route("stocks.store"),{onSuccess:()=>{h.success("Entrée de stock créée avec succès")},onError:()=>{h.error("Une erreur est survenue lors de la création")}})};return e.jsxs(D,{breadcrumbs:w,children:[e.jsx(k,{title:"Ajouter une entrée de stock"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(H,{children:"Création d'un stock"})}),e.jsx(L,{children:e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"medical_produit_id",children:"Produit*"}),e.jsxs(c,{value:r.medical_produit_id||void 0,onValueChange:t=>i("medical_produit_id",t),required:!0,children:[e.jsx(u,{children:e.jsx(m,{placeholder:"Sélectionner un produit"})}),e.jsx(x,{children:S.map(t=>e.jsx(n,{value:t.id.toString(),children:t.name},t.id))})]}),s.medical_produit_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.medical_produit_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"quantite",children:"Quantité*"}),e.jsx(o,{id:"quantite",type:"number",min:"1",value:r.quantite,onChange:t=>i("quantite",parseInt(t.target.value)),required:!0}),s.quantite&&e.jsx("p",{className:"text-sm text-red-500",children:s.quantite})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"numero_lot",children:"Numéro de lot"}),e.jsx(o,{id:"numero_lot",value:r.numero_lot,onChange:t=>i("numero_lot",t.target.value),placeholder:"Optionnel"}),s.numero_lot&&e.jsx("p",{className:"text-sm text-red-500",children:s.numero_lot})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"prix_unitaire",children:"Prix unitaire (€)"}),e.jsx(o,{id:"prix_unitaire",type:"number",step:"0.01",min:"0",value:r.prix_unitaire||"",onChange:t=>i("prix_unitaire",t.target.value?parseFloat(t.target.value):null),placeholder:"Optionnel"}),s.prix_unitaire&&e.jsx("p",{className:"text-sm text-red-500",children:s.prix_unitaire})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"received_date",children:"Date de réception*"}),e.jsxs(j,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(d,{variant:"outline",className:g("w-full justify-start text-left font-normal",!r.received_date&&"text-muted-foreground"),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),r.received_date?C(r.received_date,"PPP"):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx(_,{className:"w-auto p-0",children:e.jsx(f,{mode:"single",selected:r.received_date,onSelect:t=>{if(t){const l=new Date(t);l.setHours(l.getHours()+1),i("received_date",l)}},initialFocus:!0})})]}),s.received_date&&e.jsx("p",{className:"text-sm text-red-500",children:s.received_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"date_expiration",children:"Date d'expiration"}),e.jsxs(j,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(d,{variant:"outline",className:g("w-full justify-start text-left font-normal",!r.date_expiration&&"text-muted-foreground"),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),r.date_expiration?C(r.date_expiration,"PPP"):e.jsx("span",{children:"Choisir une date"})]})}),e.jsx(_,{className:"w-auto p-0",children:e.jsx(f,{mode:"single",selected:r.date_expiration||void 0,onSelect:t=>{if(t){const l=new Date(t);l.setHours(l.getHours()+1),i("date_expiration",l)}else i("date_expiration",null)},initialFocus:!0})})]}),s.date_expiration&&e.jsx("p",{className:"text-sm text-red-500",children:s.date_expiration})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"hopital_id",children:"Emplacement"}),e.jsxs(c,{value:r.hopital_id===null?"null":r.hopital_id||void 0,onValueChange:t=>i("hopital_id",t==="null"?null:t),children:[e.jsx(u,{children:e.jsx(m,{placeholder:"Stock central"})}),e.jsxs(x,{children:[e.jsx(n,{value:"null",children:"Stock central"}),y.map(t=>e.jsx(n,{value:t.id.toString(),children:t.nom},t.id))]})]}),s.hopital_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.hopital_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"status",children:"Statut*"}),e.jsxs(c,{value:r.status,onValueChange:t=>i("status",t),required:!0,children:[e.jsx(u,{children:e.jsx(m,{placeholder:"Sélectionner un statut"})}),e.jsxs(x,{children:[e.jsx(n,{value:"disponible",children:"Disponible"}),e.jsx(n,{value:"reservee",children:"Réservée"}),e.jsx(n,{value:"expirer",children:"Expiré"}),e.jsx(n,{value:"endommage",children:"Endommagé"})]})]}),s.status&&e.jsx("p",{className:"text-sm text-red-500",children:s.status})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(d,{variant:"outline",asChild:!0,children:e.jsx(q,{href:route("stocks.index"),children:"Annuler"})}),e.jsx(d,{type:"submit",disabled:p,children:p?"Enregistrement...":"Enregistrer"})]})]})})})]})})})})]})}export{le as default};
//# sourceMappingURL=Create-BIOEFEKv.js.map
