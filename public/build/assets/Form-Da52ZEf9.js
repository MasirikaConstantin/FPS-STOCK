import{m as F,j as e,L as y,$ as w}from"./app-CSjzvEdl.js";import{B as i}from"./button-DKtJZtgI.js";import{P as m,a as p,b as x,C as h}from"./popover-BpsWF2yf.js";import{C as D}from"./checkbox-BOHHUm89.js";import{I as n}from"./input-BSc8baJv.js";import{L as d}from"./label-Lx0dL3y0.js";import{T as u}from"./textarea-C5-KoVnw.js";import{A as L}from"./app-layout-BI0sLpWU.js";import{S as A,a as M,b as T,c as B,d as I}from"./select-CWgXAWFB.js";import{B as P}from"./badge-BcNWtNC7.js";import{C as k,a as $,b as E,c as O}from"./card-CbEGrNjZ.js";import{C as j}from"./calendar-Bu0MZIAk.js";import"./app-DCR4OZ8t.js";import"./index-CgyB2gb4.js";import"./utils-jAU0Cazi.js";import"./en-US-DCG5IRVV.js";import"./format-DoAzcPNu.js";import"./endOfMonth-BujD7vy8.js";import"./chevron-left-zVSaV4Kd.js";import"./createLucideIcon-Bm1i9eVH.js";import"./index-DtfqDP5q.js";import"./index-BHeidSKY.js";import"./check-BP1rGdyQ.js";import"./index-DtyIfu9z.js";import"./app-logo-icon-sN9k3MyY.js";import"./car-front-BKurbF1U.js";import"./package-C3gqZCnc.js";const v=[{value:"medicaments",label:"Médicaments"},{value:"equipements",label:"Équipements médicaux"},{value:"consommables",label:"Consommables médicaux"},{value:"mobilier",label:"Mobilier médical"},{value:"services",label:"Services médicaux"},{value:"logiciels",label:"Logiciels médicaux"}];function pe({fournisseur:a}){const{data:l,setData:c,errors:s,post:_,put:N,processing:g}=F({nom:(a==null?void 0:a.nom)||"",contact_person:(a==null?void 0:a.contact_person)||"",phone:(a==null?void 0:a.phone)||"",email:(a==null?void 0:a.email)||"",address:(a==null?void 0:a.address)||"",specialties:(a==null?void 0:a.specialties)||[],is_active:(a==null?void 0:a.is_active)??!0,contract_start_date:(a==null?void 0:a.contract_start_date)||null,contract_end_date:(a==null?void 0:a.contract_end_date)||null}),C=[{title:"Fournisseurs",href:"/fournisseurs"},{href:a?`/fournisseurs/${a.ref}`:"",title:a?"Modifier Fournisseur":"Créer Fournisseur"}],b=t=>{t.preventDefault(),a?N(route("fournisseurs.update",a.ref)):_(route("fournisseurs.store"))};return e.jsxs(L,{breadcrumbs:C,children:[e.jsx(y,{title:a?"Modifier Fournisseur":"Créer Fournisseur"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs(k,{children:[e.jsx($,{children:e.jsx(E,{className:"text-xl font-semibold",children:a?"Modifier Fournisseur":"Créer Fournisseur"})}),e.jsx(O,{children:e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"nom",children:"Nom *"}),e.jsx(n,{id:"nom",value:l.nom,onChange:t=>c("nom",t.target.value),placeholder:"Nom du fournisseur"}),s.nom&&e.jsx("p",{className:"text-sm text-red-500",children:s.nom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"contact_person",children:"Personne de contact"}),e.jsx(n,{id:"contact_person",value:l.contact_person,onChange:t=>c("contact_person",t.target.value),placeholder:"Nom du contact"}),s.contact_person&&e.jsx("p",{className:"text-sm text-red-500",children:s.contact_person})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"phone",children:"Téléphone"}),e.jsx(n,{id:"phone",value:l.phone,onChange:t=>c("phone",t.target.value),placeholder:"Numéro de téléphone"}),s.phone&&e.jsx("p",{className:"text-sm text-red-500",children:s.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(n,{id:"email",type:"email",value:l.email,onChange:t=>c("email",t.target.value),placeholder:"Email"}),s.email&&e.jsx("p",{className:"text-sm text-red-500",children:s.email})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(d,{htmlFor:"address",children:"Adresse"}),e.jsx(u,{id:"address",value:l.address,onChange:t=>c("address",t.target.value),placeholder:"Adresse complète"}),s.address&&e.jsx("p",{className:"text-sm text-red-500",children:s.address})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(d,{htmlFor:"specialties",children:"Spécialités"}),e.jsxs(A,{value:"",onValueChange:t=>{t&&!l.specialties.includes(t)&&c("specialties",[...l.specialties,t])},children:[e.jsx(M,{className:"w-full",children:e.jsx(T,{placeholder:"Ajouter une spécialité"})}),e.jsx(B,{children:v.map(t=>e.jsx(I,{value:t.value,disabled:l.specialties.includes(t.value),children:t.label},t.value))})]}),l.specialties.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.specialties.map(t=>{const r=v.find(o=>o.value===t);return e.jsxs(P,{variant:"secondary",className:"px-3 py-1",children:[(r==null?void 0:r.label)||t,e.jsx("button",{type:"button",onClick:o=>{o.preventDefault(),c("specialties",l.specialties.filter(S=>S!==t))},className:"ml-2 text-xs",children:"×"})]},t)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Date de début de contrat"}),e.jsxs(m,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),l.contract_start_date?new Date(l.contract_start_date).toLocaleDateString():"Sélectionner une date"]})}),e.jsx(x,{className:"w-auto p-0",children:e.jsx(h,{mode:"single",selected:l.contract_start_date?new Date(l.contract_start_date):void 0,onSelect:t=>c("contract_start_date",(t==null?void 0:t.toISOString())||null),initialFocus:!0})})]}),s.contract_start_date&&e.jsx("p",{className:"text-sm text-red-500",children:s.contract_start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Date de fin de contrat"}),e.jsxs(m,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),l.contract_end_date?new Date(l.contract_end_date).toLocaleDateString():"Sélectionner une date"]})}),e.jsx(x,{className:"w-auto p-0",children:e.jsx(h,{mode:"single",selected:l.contract_end_date?new Date(l.contract_end_date):void 0,onSelect:t=>c("contract_end_date",(t==null?void 0:t.toISOString())||null),initialFocus:!0})})]}),s.contract_end_date&&e.jsx("p",{className:"text-sm text-red-500",children:s.contract_end_date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"is_active",checked:l.is_active,onCheckedChange:t=>c("is_active",!!t)}),e.jsx(d,{htmlFor:"is_active",children:"Actif"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(i,{asChild:!0,variant:"outline",children:e.jsx(w,{href:route("fournisseurs.index"),children:"Annuler"})}),e.jsx(i,{type:"submit",disabled:g,children:a?"Mettre à jour":"Créer"})]})]})})})]})})})})]})}export{pe as default};
//# sourceMappingURL=Form-Da52ZEf9.js.map
