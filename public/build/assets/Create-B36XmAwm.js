import{m as b,j as e,L as A,$ as F}from"./app-CfIQfryc.js";import{B as y}from"./button-By8FOct-.js";import{C as T,a as L,b as V,c as w,d as B}from"./card-DdvJbsWn.js";import{I as H}from"./input-3mQeuo9Z.js";import{L as l}from"./label-Bc_E8aZ_.js";import{S as d,a as n,b as o,c,d as a}from"./select-mimKbrnD.js";import{T as I}from"./textarea-BNFPbHnk.js";import{A as O}from"./app-layout-DBCqPTBR.js";import"./app-XAPMnnx3.js";import"./index-F55flZwV.js";import"./utils-jAU0Cazi.js";import"./index-BSyT1Gdz.js";import"./index-wsb6SjUi.js";import"./createLucideIcon-DjaE45rK.js";import"./check-Ble_Z7EH.js";import"./index-B8Z1OlCE.js";import"./app-logo-icon-Cf6SMoi-.js";import"./car-front-B2ibBUtT.js";import"./package-CAWIZc5k.js";const D=[{title:"Gestion des Alertes",href:"/alerts"},{title:"Créer une Alerte",href:"/alerts/create"}];function te({hopitals:m,medicalProduits:h,types:v,priorities:_}){var j,u,g,f;const{data:t,setData:s,post:C,processing:S,errors:i}=b({type:"stock_faible",priorite:"moyen",titre:"",message:"",hopital_id:"",medical_produit_id:""}),N=r=>{r.preventDefault(),C(route("alerts.store"))},p=Array.isArray(m)?m:[m].filter(Boolean);return e.jsxs(O,{breadcrumbs:D,children:[e.jsx(A,{title:"Créer une Alerte"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(T,{children:[e.jsx(L,{children:e.jsx(V,{className:"text-2xl font-bold",children:"Créer une Alerte"})}),e.jsxs("form",{onSubmit:N,children:[e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"type",children:"Type d'alerte"}),e.jsxs(d,{value:t.type,onValueChange:r=>s("type",r),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Sélectionner un type"})}),e.jsx(c,{children:Object.entries(v).map(([r,x])=>e.jsx(a,{value:r,children:x},r))})]}),i.type&&e.jsx("p",{className:"text-sm text-red-500",children:i.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"priorite",children:"Priorité"}),e.jsxs(d,{value:t.priorite,onValueChange:r=>s("priorite",r),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Sélectionner une priorité"})}),e.jsx(c,{children:Object.entries(_).map(([r,x])=>e.jsx(a,{value:r,children:x},r))})]}),i.priorite&&e.jsx("p",{className:"text-sm text-red-500",children:i.priorite})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"titre",children:"Titre"}),e.jsx(H,{id:"titre",value:t.titre,onChange:r=>s("titre",r.target.value)}),i.titre&&e.jsx("p",{className:"text-sm text-red-500",children:i.titre})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"hopital_id",children:"Hôpital"}),e.jsxs(d,{value:(j=t.hopital_id)==null?void 0:j.toString(),onValueChange:r=>s("hopital_id",r),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Sélectionner un hôpital",children:t.hopital_id?(u=p.find(r=>r.id.toString()===t.hopital_id.toString()))==null?void 0:u.nom:null})}),e.jsx(c,{children:p.length>0?p.map(r=>e.jsxs(a,{value:r.id.toString(),children:[r.nom," - ",r.ville]},r.id)):e.jsx(a,{value:"",disabled:!0,children:"Aucun hôpital disponible"})})]}),i.hopital_id&&e.jsx("p",{className:"text-sm text-red-500",children:i.hopital_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"medical_produit_id",children:"Produit Médical (Optionnel)"}),e.jsxs(d,{value:(g=t.medical_produit_id)==null?void 0:g.toString(),onValueChange:r=>s("medical_produit_id",r),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Sélectionner un produit",children:t.medical_produit_id?(f=h.find(r=>r.id.toString()===t.medical_produit_id.toString()))==null?void 0:f.name:null})}),e.jsx(c,{children:h.map(r=>e.jsx(a,{value:r.id.toString(),children:r.name},r.id))})]})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(l,{htmlFor:"message",children:"Message"}),e.jsx(I,{id:"message",value:t.message,onChange:r=>s("message",r.target.value),rows:5}),i.message&&e.jsx("p",{className:"text-sm text-red-500",children:i.message})]})]})}),e.jsxs(B,{className:"flex justify-between mt-2",children:[e.jsx(y,{variant:"outline",asChild:!0,children:e.jsx(F,{href:route("alerts.index"),children:"Annuler"})}),e.jsx(y,{type:"submit",disabled:S,children:"Créer l'Alerte"})]})]})]})})})]})}export{te as default};
//# sourceMappingURL=Create-B36XmAwm.js.map
