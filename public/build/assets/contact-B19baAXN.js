import{r as d,j as r,K as D,m as M,L as R,t as F}from"./app-CSjzvEdl.js";import{S as O,H as V}from"./layout-D_jho10e.js";import{I as j}from"./input-error-KmzlV_zK.js";import{B as S}from"./button-DKtJZtgI.js";import{I as C}from"./input-BSc8baJv.js";import{L as y}from"./label-Lx0dL3y0.js";import{A as T,m as k,n as U,o as B}from"./app-layout-BI0sLpWU.js";import{c as H}from"./index-CgyB2gb4.js";import"./app-DCR4OZ8t.js";import"./card-CbEGrNjZ.js";import"./utils-jAU0Cazi.js";import"./index-DtfqDP5q.js";import"./createLucideIcon-Bm1i9eVH.js";import"./index-DtyIfu9z.js";import"./app-logo-icon-sN9k3MyY.js";import"./car-front-BKurbF1U.js";import"./package-C3gqZCnc.js";function G(e,t=[]){let s=[];function i(u,l){const o=d.createContext(l),n=s.length;s=[...s,l];const m=v=>{var N;const{scope:p,children:x,...c}=v,f=((N=p==null?void 0:p[e])==null?void 0:N[n])||o,A=d.useMemo(()=>c,Object.values(c));return r.jsx(f.Provider,{value:A,children:x})};m.displayName=u+"Provider";function g(v,p){var f;const x=((f=p==null?void 0:p[e])==null?void 0:f[n])||o,c=d.useContext(x);if(c)return c;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[m,g]}const a=()=>{const u=s.map(l=>d.createContext(l));return function(o){const n=(o==null?void 0:o[e])||u;return d.useMemo(()=>({[`__scope${e}`]:{...o,[e]:n}}),[o,n])}};return a.scopeName=e,[i,K(a,...t)]}function K(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const l=i.reduce((o,{useScope:n,scopeName:m})=>{const v=n(u)[`__scope${m}`];return{...o,...v}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_=W.reduce((e,t)=>{const s=H(`Primitive.${t}`),i=d.forwardRef((a,u)=>{const{asChild:l,...o}=a,n=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(n,{...o,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),P="Progress",b=100,[X,ge]=G(P),[q,z]=X(P),w=d.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:a,getValueLabel:u=Q,...l}=e;(a||a===0)&&!I(a)&&console.error(Y(`${a}`,"Progress"));const o=I(a)?a:b;i!==null&&!$(i,o)&&console.error(Z(`${i}`,"Progress"));const n=$(i,o)?i:null,m=h(n)?u(n,o):void 0;return r.jsx(q,{scope:s,value:n,max:o,children:r.jsx(_.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":h(n)?n:void 0,"aria-valuetext":m,role:"progressbar","data-state":L(n,o),"data-value":n??void 0,"data-max":o,...l,ref:t})})});w.displayName=P;var E="ProgressIndicator",J=d.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,a=z(E,s);return r.jsx(_.div,{"data-state":L(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:t})});J.displayName=E;function Q(e,t){return`${Math.round(e/t*100)}%`}function L(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function h(e){return typeof e=="number"}function I(e){return h(e)&&!isNaN(e)&&e>0}function $(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}function Y(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b}\`.`}function Z(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}function he(){var v,p,x;const{auth:e}=D().props,t=d.useRef(null),{data:s,setData:i,post:a,errors:u,progress:l,reset:o}=M({avatar:null,phone:((v=e.user.profile)==null?void 0:v.phone)||"",address:((p=e.user.profile)==null?void 0:p.address)||""}),n=c=>{c.preventDefault();const f=new FormData;f.append("phone",s.phone),f.append("address",s.address),s.avatar&&f.append("avatar",s.avatar),a(route("profile.autres.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>o("avatar"),onSuccess:()=>F.success("Informations mises à jour avec succès")})},m=c=>{c.target.files&&c.target.files[0]&&i("avatar",c.target.files[0])},g=[{title:"Paramètres de profil",href:"/settings/profile"}];return r.jsxs(T,{breadcrumbs:g,children:[r.jsx(R,{title:"Paramètres de profil"}),r.jsx(O,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(V,{title:"Informations de profil",description:"Mise à jour de vos informations personnelles"}),r.jsx("div",{className:"space-y-6",children:r.jsxs("form",{onSubmit:n,encType:"multipart/form-data",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(k,{className:"h-16 w-16",children:[r.jsx(U,{src:s.avatar?URL.createObjectURL(s.avatar):(x=e.user)!=null&&x.avatar_url?e.user.avatar_url:void 0}),r.jsx(B,{children:e.user.name.substring(0,2).toUpperCase()})]}),r.jsxs("div",{children:[r.jsx(S,{type:"button",variant:"outline",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:"Changer la photo"}),r.jsx("input",{type:"file",ref:t,onChange:m,className:"hidden",accept:"image/*"}),r.jsx(j,{message:u.avatar,className:"mt-2"}),l&&r.jsxs(r.Fragment,{children:[r.jsx(w,{value:l.percentage,maxWidth:"200px",className:"mt-2"}),l.percentage,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(y,{htmlFor:"phone",children:"Téléphone"}),r.jsx(C,{id:"phone",value:s.phone,onChange:c=>i("phone",c.target.value)}),r.jsx(j,{message:u.phone,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(y,{htmlFor:"address",children:"Adresse"}),r.jsx(C,{id:"address",value:s.address,onChange:c=>i("address",c.target.value)}),r.jsx(j,{message:u.address,className:"mt-2"})]})]}),r.jsx(S,{type:"submit",variant:"outline",children:"Enregistrer"})]})})]})})]})}export{he as default};
//# sourceMappingURL=contact-B19baAXN.js.map
