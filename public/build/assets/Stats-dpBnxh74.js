import{j as e}from"./app-DgZYpFq7.js";import{C as a,a as l,b as r,c as n}from"./card-p61obAJe.js";import{B as p}from"./box-DIzyKyB3.js";import{C as N}from"./car-front-DHnhNWiQ.js";import{C as B}from"./circle-alert-CnL1rNwu.js";import{R as o,C as d,X as x,Y as c,T as m,L as h,B as g,a as u}from"./BarChart-BV1Rh-eb.js";import{A as F,a as j}from"./AreaChart-DPg1DLE3.js";import"./app-nklVn4u_.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-Bp4--aub.js";import"./index-DUIdKc2i.js";function Y({auth:S,produit:s}){const k=s.mouvements.reduce((t,f)=>{const y=new Date(f.created_at),i=`${y.getFullYear()}-${(y.getMonth()+1).toString().padStart(2,"0")}`;return t[i]||(t[i]={date:i,entree:0,sortie:0,transfert:0,ajustement:0}),t[i][f.type]+=f.quantite,t},{}),b=Object.values(k),v=[{name:"Disponible",value:s.stocks.disponible,fill:"#10B981"},{name:"Réservé",value:s.stocks.reservee,fill:"#FBBF24"},{name:"Expiré",value:s.stocks.expirer,fill:"#EF4444"},{name:"Endommagé",value:s.stocks.endommage,fill:"#6B7280"}],w=[{name:"En attente",value:s.transferts.en_attente,fill:"#3B82F6"},{name:"Prélevé",value:s.transferts.preleve,fill:"#8B5CF6"},{name:"Livré",value:s.transferts.livre,fill:"#10B981"},{name:"Annulé",value:s.transferts.annule,fill:"#EF4444"}],C=[{name:"Stock faible",value:s.alerts.stock_faible,fill:"#F97316"},{name:"Avertissement",value:s.alerts.avertissement_expiration,fill:"#FBBF24"},{name:"Expiré",value:s.alerts.expire,fill:"#EF4444"},{name:"Demande Transfert",value:s.alerts.demande_transfert,fill:"#EA44"},{name:"Systeme",value:s.alerts.systeme,fill:"#fff"}];return e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(r,{className:"font-semibold text-xl  leading-tight",children:["Statistiques du médicament: ",s.name]})}),e.jsx(n,{children:e.jsxs("div",{className:" overflow-hidden shadow-sm sm:rounded-lg ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{children:"Stock Total"}),e.jsx(p,{})]}),e.jsx(n,{children:e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.stocks.total})})]}),e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{children:"Transferts Total"}),e.jsx(N,{})]}),e.jsx(n,{children:e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.transferts.total})})]}),e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{children:"Alertes Total"}),e.jsx(B,{})]}),e.jsx(n,{children:e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.alerts.total})})]})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(r,{children:"Mouvements de stock par mois"})}),e.jsx(n,{children:e.jsx("div",{className:"mt-6 h-80",children:e.jsx(o,{width:"100%",height:"100%",children:e.jsxs(F,{data:b,children:[e.jsx(d,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"date"}),e.jsx(c,{}),e.jsx(m,{labelClassName:"text-xs text-gray-500",itemStyle:{backgroundColor:"black"},contentStyle:{backgroundColor:"black",color:"white"},formatter:t=>[`${t} unités`,{entree:"Entrée",sortie:"Sortie",transfert:"Transfert",ajustement:"Ajustement"}[t]]}),e.jsx(h,{}),e.jsx(j,{type:"monotone",dataKey:"entree",stroke:"#10B981",fill:"#10B981"}),e.jsx(j,{type:"monotone",dataKey:"sortie",stroke:"#EF4444",fill:"#EF4444"}),e.jsx(j,{type:"monotone",dataKey:"transfert",stroke:"#3B82F6",fill:"#3B82F6"}),e.jsx(j,{type:"monotone",dataKey:"ajustement",stroke:"#F59E0B",fill:"#F59E0B"})]})})})})]}),e.jsxs(a,{className:"mt-6",children:[e.jsx(l,{children:e.jsx(r,{children:"État des stocks"})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:" p-6 rounded-lg shadow-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"État des stocks"}),e.jsx("div",{className:"mt-6 h-80",children:e.jsx(o,{width:"100%",height:"100%",children:e.jsxs(g,{data:v,children:[e.jsx(d,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"name"}),e.jsx(c,{}),e.jsx(m,{formatter:t=>[`${t} unités`],labelClassName:"text-xs text-gray-500",itemStyle:{backgroundColor:"black",color:"white"},contentStyle:{backgroundColor:"black",color:"white"}}),e.jsx(h,{}),e.jsx(u,{dataKey:"value",name:"Quantité",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:" p-6 rounded-lg shadow-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Statut des transferts"}),e.jsx("div",{className:"mt-6 h-80",children:e.jsx(o,{width:"100%",height:"100%",children:e.jsxs(g,{data:w,children:[e.jsx(d,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"name"}),e.jsx(c,{}),e.jsx(m,{formatter:t=>[`${t} transferts`],labelClassName:"text-xs text-gray-500",itemStyle:{backgroundColor:"black",color:"white"},contentStyle:{backgroundColor:"black",color:"white"}}),e.jsx(h,{}),e.jsx(u,{dataKey:"value",name:"Quantité",radius:[4,4,0,0]})]})})})]})]})})]}),e.jsxs(a,{className:"mt-6 rounded-lg shadow-lg",children:[e.jsx(l,{children:e.jsx(r,{className:"text-lg font-medium ",children:"Alertes"})}),e.jsx("div",{className:"mt-6 h-80",children:e.jsx(o,{width:"100%",height:"100%",children:e.jsxs(g,{data:C,children:[e.jsx(d,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"name"}),e.jsx(c,{}),e.jsx(m,{formatter:t=>[`${t} alertes`],labelClassName:"text-xs text-gray-500",itemStyle:{backgroundColor:"black",color:"white"},contentStyle:{backgroundColor:"black",color:"white"}}),e.jsx(h,{}),e.jsx(u,{dataKey:"value",name:"Quantité",radius:[4,4,0,0]})]})})})]})]})})]})}export{Y as default};
//# sourceMappingURL=Stats-dpBnxh74.js.map
