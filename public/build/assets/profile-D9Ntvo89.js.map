{"version":3,"file":"profile-D9Ntvo89.js","sources":["../../../resources/js/components/delete-user.tsx","../../../resources/js/pages/settings/profile.tsx"],"sourcesContent":["import { useForm } from '@inertiajs/react';\nimport { FormEventHandler, useRef } from 'react';\n\nimport InputError from '@/components/input-error';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\nimport HeadingSmall from '@/components/heading-small';\n\nimport { Dialog, DialogClose, DialogContent, DialogDescription, DialogFooter, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\n\nexport default function DeleteUser() {\n    const passwordInput = useRef<HTMLInputElement>(null);\n    const { data, setData, delete: destroy, processing, reset, errors, clearErrors } = useForm<Required<{ password: string }>>({ password: '' });\n\n    const deleteUser: FormEventHandler = (e) => {\n        e.preventDefault();\n\n        destroy(route('profile.destroy'), {\n            preserveScroll: true,\n            onSuccess: () => closeModal(),\n            onError: () => passwordInput.current?.focus(),\n            onFinish: () => reset(),\n        });\n    };\n\n    const closeModal = () => {\n        clearErrors();\n        reset();\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <HeadingSmall title=\"Supprimer le compte\" description=\"Supprimer votre compte et tous ses ressources\" />\n            <div className=\"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10\">\n                <div className=\"relative space-y-0.5 text-red-600 dark:text-red-100\">\n                    <p className=\"font-medium\">Avertissement</p>\n                    <p className=\"text-sm\">Veuillez procéder avec prudence, cela ne peut pas être annulé.</p>\n                </div>\n\n                <Dialog>\n                    <DialogTrigger asChild>\n                        <Button variant=\"destructive\">Supprimer le compte</Button>\n                    </DialogTrigger>\n                    <DialogContent>\n                        <DialogTitle>Êtes-vous sûr de vouloir supprimer votre compte ?</DialogTitle>\n                        <DialogDescription>\n                            Une fois votre compte supprimé, tous ses ressources et données seront également supprimées de manière permanente. Veuillez entrer votre mot de passe\n                            pour confirmer que vous souhaitez supprimer votre compte.\n                        </DialogDescription>\n                        <form className=\"space-y-6\" onSubmit={deleteUser}>\n                            <div className=\"grid gap-2\">\n                                <Label htmlFor=\"password\" className=\"sr-only\">\n                                    Mot de passe\n                                </Label>\n\n                                <Input\n                                    id=\"password\"\n                                    type=\"password\"\n                                    name=\"password\"\n                                    ref={passwordInput}\n                                    value={data.password}\n                                    onChange={(e) => setData('password', e.target.value)}\n                                    placeholder=\"Mot de passe\"\n                                    autoComplete=\"current-password\"\n                                />\n\n                                <InputError message={errors.password} />\n                            </div>\n\n                            <DialogFooter className=\"gap-2\">\n                                <DialogClose asChild>\n                                    <Button variant=\"secondary\" onClick={closeModal}>\n                                        Annuler\n                                    </Button>\n                                </DialogClose>\n\n                                <Button variant=\"destructive\" disabled={processing} asChild>\n                                    <button type=\"submit\">Supprimer le compte</button>\n                                </Button>\n                            </DialogFooter>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </div>\n        </div>\n    );\n}\n","import { type BreadcrumbItem, type SharedData } from '@/types';\nimport { Transition } from '@headlessui/react';\nimport { Head, Link, useForm, usePage } from '@inertiajs/react';\nimport { FormEventHandler } from 'react';\n\nimport DeleteUser from '@/components/delete-user';\nimport HeadingSmall from '@/components/heading-small';\nimport InputError from '@/components/input-error';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport AppLayout from '@/layouts/app-layout';\nimport SettingsLayout from '@/layouts/settings/layout';\n\nconst breadcrumbs: BreadcrumbItem[] = [\n    {\n        title: 'Paramètres de profil',\n        href: '/settings/profile',\n    },\n];\n\ntype ProfileForm = {\n    name: string;\n    email: string;\n};\n\nexport default function Profile({ mustVerifyEmail, status }: { mustVerifyEmail: boolean; status?: string }) {\n    const { auth } = usePage<SharedData>().props;\n\n    const { data, setData, patch, errors, processing, recentlySuccessful } = useForm<Required<ProfileForm>>({\n        name: auth.user.name,\n        email: auth.user.email,\n    });\n\n    const submit: FormEventHandler = (e) => {\n        e.preventDefault();\n\n        patch(route('profile.update'), {\n            preserveScroll: true,\n        });\n    };\n\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title=\"Paramètres de profil\" />\n\n            <SettingsLayout>\n                <div className=\"space-y-6\">\n                    <HeadingSmall title=\"Informations de profil\" description=\"Mise à jour de votre nom et adresse e-mail\" />\n\n                    <form onSubmit={submit} className=\"space-y-6\">\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"name\">Nom</Label>\n\n                            <Input\n                                id=\"name\"\n                                className=\"mt-1 block w-full\"\n                                value={data.name}\n                                onChange={(e) => setData('name', e.target.value)}\n                                required\n                                autoComplete=\"name\"\n                                placeholder=\"Nom complet\"\n                            />\n\n                            <InputError className=\"mt-2\" message={errors.name} />\n                        </div>\n\n                        <div className=\"grid gap-2\">\n                            <Label htmlFor=\"email\">Adresse e-mail</Label>\n\n                            <Input\n                                id=\"email\"\n                                type=\"email\"\n                                className=\"mt-1 block w-full\"\n                                value={data.email}\n                                onChange={(e) => setData('email', e.target.value)}\n                                required\n                                autoComplete=\"username\"\n                                placeholder=\"Adresse e-mail\"\n                            />\n\n                            <InputError className=\"mt-2\" message={errors.email} />\n                        </div>\n\n                        {mustVerifyEmail && auth.user.email_verified_at === null && (\n                            <div>\n                                <p className=\"-mt-4 text-sm text-muted-foreground\">\n                                    Votre adresse e-mail n'est pas vérifiée.{' '}\n                                    <Link\n                                        href={route('verification.send')}\n                                        method=\"post\"\n                                        as=\"button\"\n                                        className=\"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500\"\n                                    >\n                                        Cliquez ici pour envoyer un nouveau lien de vérification.\n                                    </Link>\n                                </p>\n\n                                {status === 'verification-link-sent' && (\n                                    <div className=\"mt-2 text-sm font-medium text-green-600\">\n                                        Un nouveau lien de vérification a été envoyé à votre adresse e-mail.\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        <div className=\"flex items-center gap-4\">\n                            <Button disabled={processing}>Enregistrer</Button>\n\n                            <Transition\n                                show={recentlySuccessful}\n                                enter=\"transition ease-in-out\"\n                                enterFrom=\"opacity-0\"\n                                leave=\"transition ease-in-out\"\n                                leaveTo=\"opacity-0\"\n                            >\n                                <p className=\"text-sm text-neutral-600\">Enregistré</p>\n                            </Transition>\n                        </div>\n                    </form>\n                </div>\n\n                <DeleteUser />\n            </SettingsLayout>\n        </AppLayout>\n    );\n}\n"],"names":["DeleteUser","passwordInput","useRef","data","setData","destroy","processing","reset","errors","clearErrors","useForm","deleteUser","e","closeModal","_a","jsxs","jsx","HeadingSmall","Dialog","DialogTrigger","Button","DialogContent","DialogTitle","DialogDescription","Label","Input","InputError","DialogFooter","DialogClose","breadcrumbs","Profile","mustVerifyEmail","status","auth","usePage","patch","recentlySuccessful","submit","AppLayout","Head","SettingsLayout","Link","Transition"],"mappings":"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"}