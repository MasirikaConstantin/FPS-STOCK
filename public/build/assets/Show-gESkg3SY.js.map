{"version":3,"file":"Show-gESkg3SY.js","sources":["../../../resources/js/pages/Divisions/Show.tsx"],"sourcesContent":["import { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport AppLayout from '@/layouts/app-layout';\nimport { PageProps } from '@/types/types';\nimport { Head, Link } from '@inertiajs/react';\nimport { BreadcrumbItem } from '@/types';\nimport { Badge } from '@/components/ui/badge';\nimport { DivisionAdministrative } from '@/types/types';\nimport { PencilIcon, TrashIcon } from 'lucide-react';\nimport { useState } from 'react';\nimport {Dialog,  DialogHeader } from '@/components/ui/dialog';\nimport { DialogContent, DialogDescription, DialogTitle, DialogTrigger } from '@radix-ui/react-dialog';\n\ninterface ShowProps extends PageProps {\n    division: DivisionAdministrative;\n    hierarchy: string;\n    canEdit: boolean;\n}\n\nexport default function Show({ division, hierarchy, canEdit }: ShowProps) {\n    const [deleteOpen, setDeleteOpen] = useState(false);\nconsole.log(canEdit)\n    const breadcrumbs: BreadcrumbItem[] = [\n        {\n            title: 'Divisions Administratives',\n            href: route('divisions.index'),\n        },\n        {\n            title: division.nom,\n            href: '#',\n        },\n    ];\n\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title={division.nom} />\n\n            <div className=\"py-12\">\n            <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6\">\n                <div className=\"flex justify-end space-x-2\">\n                {canEdit && (\n                    <>\n                    <Button variant=\"outline\" asChild>\n                        <Link href={route('divisions.edit', division.ref)}>\n                        <PencilIcon className=\"mr-2 h-4 w-4\" />\n                        Modifier\n                        </Link>\n                    </Button>\n                    <Dialog>\n                        <DialogTrigger asChild>\n                        <Button variant=\"destructive\">\n                            <TrashIcon className=\"mr-2 h-4 w-4\" />\n                            Supprimer\n                        </Button>\n                        </DialogTrigger>\n                        <DialogContent>\n                        <DialogHeader>\n                            <DialogTitle>Supprimer la division</DialogTitle>\n                            <DialogDescription>\n                            Êtes-vous sûr de vouloir supprimer la division {division.nom} ? Cette action est irréversible.\n                            </DialogDescription>\n                        </DialogHeader>\n                        <div className=\"flex justify-end space-x-2\">\n                            <Button variant=\"outline\" onClick={() => setDeleteOpen(false)}>\n                            Annuler\n                            </Button>\n                            <Button\n                            variant=\"destructive\"\n                            onClick={() => {\n                                route('divisions.destroy', division.id);\n                                setDeleteOpen(false);\n                            }}\n                            >\n                            Supprimer\n                            </Button>\n                        </div>\n                        </DialogContent>\n                    </Dialog>\n                    </>\n                )}\n                </div>\n\n                <Card>\n                <CardHeader>\n                    <CardTitle>Détails de la division</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Nom</h4>\n                        <p>{division.nom}</p>\n                    </div>\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Type</h4>\n                        <Badge>{division.type}</Badge>\n                    </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Code</h4>\n                        <p>{division.code || '-'}</p>\n                    </div>\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Statut</h4>\n                        <Badge variant={division.is_active ? 'default' : 'destructive'}>\n                        {division.is_active ? 'Actif' : 'Inactif'}\n                        </Badge>\n                    </div>\n                    </div>\n\n                    <div>\n                    <h4 className=\"text-sm font-medium text-gray-500\">Hiérarchie</h4>\n                    <p>{hierarchy}</p>\n                    </div>\n\n                    {division.parent && (\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Division parente</h4>\n                        <p>\n                        <Link href={route('divisions.show', division.parent.id)} className=\"text-primary hover:underline\">\n                            {division.parent.nom} ({division.parent.type})\n                        </Link>\n                        </p>\n                    </div>\n                    )}\n\n                    {division.children.length > 0 && (\n                    <div>\n                        <h4 className=\"text-sm font-medium text-gray-500\">Subdivisions</h4>\n                        <ul className=\"space-y-1\">\n                        {division.children.map((child) => (\n                            <li key={child.id}>\n                            <Link href={route('divisions.show', child.id)} className=\"text-primary hover:underline\">\n                                {child.nom} ({child.type})\n                            </Link>\n                            </li>\n                        ))}\n                        </ul>\n                    </div>\n                    )}\n                </CardContent>\n                </Card>\n            </div>\n            </div>\n        </AppLayout>\n    );\n}"],"names":["Show","division","hierarchy","canEdit","deleteOpen","setDeleteOpen","useState","breadcrumbs","jsxs","AppLayout","jsx","Head","Fragment","Button","Link","PencilIcon","Dialog","DialogTrigger","TrashIcon","DialogContent","DialogHeader","DialogTitle","DialogDescription","Card","CardHeader","CardTitle","CardContent","Badge","child"],"mappings":"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"}