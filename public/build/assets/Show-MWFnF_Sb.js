import{r as P,j as e,L as T,$ as B}from"./app-CQvyAInf.js";import{B as g}from"./button-qelRmArg.js";import{C as y,a as u,b as N,e as _,c as b}from"./card-D2Gq_jtJ.js";import{A as I,m as C,n as w,o as A}from"./app-layout-mQZNAdUE.js";import{B as i}from"./badge-CsRI51Hc.js";import{D as F}from"./DeleteUserDialog-D-0wHQcz.js";import{A as O,a as V,b as z}from"./alert-BOo9Omnq.js";import E from"./Stats-DOrJqZgo.js";import{U as t}from"./user-CxGEoG2z.js";import{P as H}from"./pencil-rjEzqrUA.js";import{T as M}from"./trash-DLnuXI5G.js";import{c as R}from"./createLucideIcon-CDtDhRNb.js";import"./app-CbyD8i4Z.js";import"./index-Dh4Dnqzu.js";import"./utils-jAU0Cazi.js";import"./index-Csg-B5yo.js";import"./index-B6QC96uA.js";import"./app-logo-icon-CYEPLqCw.js";import"./car-front-3ODHaHDz.js";import"./package-BH85mpxF.js";import"./dialog-DpcO8KZT.js";import"./loader-circle-BUgxsG8k.js";import"./BarChart-BVBfR41Z.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],q=R("CircleCheck",$);function pe({user:s,canEdit:D,auth:a}){var d,c,n,m,o,x,h,j,p,f,v;const[U,l]=P.useState(!1),k=[{title:"Utilisateurs",href:route("users.index")},{title:s.name,href:"#"}],L=a.user.role==="admin_central",S=a.user.role==="admin"&&((d=a.user.profile)==null?void 0:d.hopital_id)===((c=s.profile)==null?void 0:c.hopital_id);return e.jsxs(I,{breadcrumbs:k,children:[e.jsx(T,{title:s.name}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(y,{className:"md:col-span-1",children:[e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[s.avatar?e.jsx("img",{src:s.avatar_url,alt:s.name,className:"h-24 w-24 rounded-full"}):e.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(t,{className:"h-12 w-12 text-gray-400"})}),e.jsx(i,{variant:s.is_active?"default":"destructive",className:"absolute -bottom-2 -right-2",children:s.is_active?"Actif":"Inactif"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(N,{children:s.name}),e.jsx(_,{children:s.email})]})]})}),e.jsx(b,{className:"flex justify-center space-x-2",children:D&&e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"outline",asChild:!0,children:e.jsxs(B,{href:route("users.edit",s.ref),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Modifier"]})}),e.jsxs(g,{variant:"destructive",onClick:()=>l(!0),children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})})]}),e.jsxs(y,{className:"md:col-span-2",children:[e.jsxs(u,{children:[e.jsx(N,{children:"Informations"}),e.jsx(_,{children:"Détails du profil utilisateur"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Rôle"}),e.jsx(i,{variant:s.role==="admin_central"?"default":"outline",children:s.role})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Hôpital"}),e.jsx("p",{children:((m=(n=s.profile)==null?void 0:n.hopital)==null?void 0:m.nom)||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Téléphone"}),e.jsx("p",{children:((o=s.profile)==null?void 0:o.phone)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Dernière connexion"}),e.jsx("p",{children:s.last_login_at?new Date(s.last_login_at).toLocaleString():"Jamais"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),e.jsx("p",{children:((x=s.profile)==null?void 0:x.address)||"-"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.created_by?e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Créé par"}),e.jsx("p",{children:(h=s.created_by)==null?void 0:h.name}),(j=s.created_by)!=null&&j.avatar?e.jsxs(C,{children:[e.jsx(w,{src:s.created_by.avatar_url,alt:"@shadcn"}),e.jsx(A,{children:"CN"})]}):e.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(t,{className:"h-3 w-3 text-gray-400"})})]}):null,s.updated_by?e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Modifier par"}),e.jsx("p",{children:(p=s.updated_by)==null?void 0:p.name}),(f=s.updated_by)!=null&&f.avatar?e.jsxs(C,{children:[e.jsx(w,{src:s.updated_by.avatar_url,alt:"@shadcn"}),e.jsx(A,{children:"CN"})]}):e.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(t,{className:"h-3 w-3 text-gray-400"})})]}):null]}),e.jsx("div",{children:L||S?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" Les Permissions"}),(v=s.permissions)==null?void 0:v.map(r=>e.jsxs("div",{className:"mb-1",children:[e.jsx(i,{variant:"default",className:"mr-1",children:r.name})," ",e.jsxs(i,{variant:"secondary",children:["Par : ",r.granted_by_name]})]},r.id))]}):null})]})})]}),!s.email_verified_at&&e.jsxs(O,{children:[e.jsx(q,{}),e.jsx(V,{children:"Vérification requise"}),e.jsx(z,{children:"Veuillez vérifier votre adresse e-mail pour activer votre compte. Un lien de confirmation vous a été envoyé."})]})]}),e.jsx(E,{auth:a,user:s})]})}),e.jsx(F,{open:U,onOpenChange:l,user:s})]})}export{pe as default};
//# sourceMappingURL=Show-MWFnF_Sb.js.map
