import{m as y,j as e,L as N,$ as C}from"./app-CQvyAInf.js";import{B as x}from"./button-qelRmArg.js";import{C as b,a as S,b as F,c as A,d as T}from"./card-D2Gq_jtJ.js";import{I as V}from"./input-Blf29Qex.js";import{L as a}from"./label-DXuQz94P.js";import{S as n,a as c,b as o,c as m,d}from"./select-DsVvSlVc.js";import{T as L}from"./textarea-Ck1X0zwf.js";import{A as M}from"./app-layout-mQZNAdUE.js";import"./app-CbyD8i4Z.js";import"./index-Dh4Dnqzu.js";import"./utils-jAU0Cazi.js";import"./index-Csg-B5yo.js";import"./index-D1Z7h3vH.js";import"./createLucideIcon-CDtDhRNb.js";import"./check-3WY5HJZB.js";import"./index-B6QC96uA.js";import"./app-logo-icon-CYEPLqCw.js";import"./car-front-3ODHaHDz.js";import"./package-BH85mpxF.js";const w=[{title:"Gestion des Alertes",href:"/alerts"},{title:"Modifier une Alerte",href:"#"}];function Y({alert:r,hopitals:h,medicalProduits:j,types:u,priorities:v}){const{data:t,setData:l,put:f,processing:g,errors:i}=y({type:r.type,priorite:r.priorite,titre:r.titre,message:r.message,hopital_id:r.hopital_id,medical_produit_id:r.medical_produit_id,is_resolved:r.is_resolved}),_=s=>{s.preventDefault(),f(route("alerts.update",r.ref))};return e.jsxs(M,{breadcrumbs:w,children:[e.jsx(N,{title:"Modifier une Alerte"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(b,{children:[e.jsx(S,{children:e.jsxs(F,{className:"text-2xl font-bold",children:["Modifier l'Alerte ",r.ref]})}),e.jsxs("form",{onSubmit:_,children:[e.jsx(A,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"type",children:"Type d'alerte"}),e.jsxs(n,{value:t.type,onValueChange:s=>l("type",s),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Sélectionner un type"})}),e.jsx(m,{children:Object.entries(u).map(([s,p])=>e.jsx(d,{value:s,children:p},s))})]}),i.type&&e.jsx("p",{className:"text-sm text-red-500",children:i.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"priorite",children:"Priorité"}),e.jsxs(n,{value:t.priorite,onValueChange:s=>l("priorite",s),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Sélectionner une priorité"})}),e.jsx(m,{children:Object.entries(v).map(([s,p])=>e.jsx(d,{value:s,children:p},s))})]}),i.priorite&&e.jsx("p",{className:"text-sm text-red-500",children:i.priorite})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"titre",children:"Titre"}),e.jsx(V,{id:"titre",value:t.titre,onChange:s=>l("titre",s.target.value)}),i.titre&&e.jsx("p",{className:"text-sm text-red-500",children:i.titre})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"hopital_id",children:"Hôpital"}),e.jsxs(n,{value:t.hopital_id,onValueChange:s=>l("hopital_id",s),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Sélectionner un hôpital"})}),e.jsx(m,{children:h.map(s=>e.jsx(d,{value:s.id,children:s.nom},s.id))})]}),i.hopital_id&&e.jsx("p",{className:"text-sm text-red-500",children:i.hopital_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"medical_produit_id",children:"Produit Médical (Optionnel)"}),e.jsxs(n,{value:t.medical_produit_id,onValueChange:s=>l("medical_produit_id",s),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Sélectionner un produit"})}),e.jsx(m,{children:j.map(s=>e.jsx(d,{value:s.id,children:s.name},s.id))})]}),i.medical_produit_id&&e.jsx("p",{className:"text-sm text-red-500",children:i.medical_produit_id})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(a,{htmlFor:"message",children:"Message"}),e.jsx(L,{id:"message",value:t.message,onChange:s=>l("message",s.target.value),rows:5}),i.message&&e.jsx("p",{className:"text-sm text-red-500",children:i.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"is_resolved",children:"Statut"}),e.jsxs(n,{value:t.is_resolved?"true":"false",onValueChange:s=>l("is_resolved",s==="true"),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Sélectionner un statut"})}),e.jsxs(m,{children:[e.jsx(d,{value:"false",children:"En attente"}),e.jsx(d,{value:"true",children:"Résolue"})]})]})]})]})}),e.jsxs(T,{className:"flex justify-between",children:[e.jsx(x,{variant:"outline",asChild:!0,children:e.jsx(C,{href:route("alerts.show",r.ref),children:"Annuler"})}),e.jsx(x,{type:"submit",disabled:g,children:"Enregistrer les modifications"})]})]})]})})})]})}export{Y as default};
//# sourceMappingURL=Edit-2Mbbo-Aw.js.map
