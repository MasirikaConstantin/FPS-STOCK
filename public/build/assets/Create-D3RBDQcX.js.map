{"version":3,"file":"Create-D3RBDQcX.js","sources":["../../../resources/js/pages/MedicalProduits/Create.tsx"],"sourcesContent":["import AppLayout from '@/layouts/app-layout';\nimport { BreadcrumbItem } from '@/types';\nimport { App, PageProps } from '@/types/types';\nimport { Head, Link, router, useForm } from '@inertiajs/react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { toast } from 'sonner';\nimport { FormEventHandler, JSXElementConstructor, Key, ReactElement, ReactNode, ReactPortal,     useEffect } from 'react';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport default function Create({ categories, fournisseurs }: { \n    categories: App.Categorie[], \n    fournisseurs: App.Fournisseur[] \n}) {\n    const { data, setData, post, processing, errors } = useForm({\n        name: '',\n        categorie_id: '',\n        sous_category: '',\n        unite: '',\n        description: '',\n        fabrican: '',\n        fournisseur_id: null as string | null,\n        requires_refrigeration: false,\n        duree_vie: 36,\n        seuil_min: 0,\n        prix_unitaire: 0,\n        is_active: true,\n    });\n\n    const breadcrumbs: BreadcrumbItem[] = [\n        {\n            title: 'Produits Médicaux',\n            href: '/medical-produits',\n        },\n        {\n            title: 'Ajouter un produit',\n            href: '/medical-produits/create',\n        },\n    ];\n\n    const submit: FormEventHandler = (e) => {\n        e.preventDefault();\n\n        post(route('medical-produits.store'), {\n            onSuccess: () => {\n                toast.success('Produit créé avec succès');\n            },\n            onError: () => {\n                toast.error('Une erreur est survenue lors de la création');\n            },\n        });\n    };\n\n    return (\n        <AppLayout breadcrumbs={breadcrumbs}>\n            <Head title=\"Ajouter un produit médical\" />\n\n            <div className=\"py-12\">\n                <div className=\"mx-auto max-w-7xl sm:px-6 lg:px-8\">\n                    <div className=\"overflow-hidden shadow-sm sm:rounded-lg\">\n                        <Card>\n                            <CardHeader>\n                                <CardTitle>Ajouter un produit médical</CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                            <div className=\"p-6\">\n                            <form onSubmit={submit} className=\"space-y-6\">\n                                <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"name\">Nom du produit*</Label>\n                                        <Input\n                                            id=\"name\"\n                                            value={data.name}\n                                            onChange={(e) => setData('name', e.target.value)}\n                                            placeholder=\"Nom du produit\"\n                                            required\n                                        />\n                                        {errors.name && <p className=\"text-sm text-red-500\">{errors.name}</p>}\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"categorie_id\">Catégorie*</Label>\n                                        <Select\n                                            value={data.categorie_id || undefined} // Use undefined instead of empty string\n                                            onValueChange={(value) => setData('categorie_id', value)}\n                                            required\n                                        >\n                                            <SelectTrigger>\n                                            <SelectValue placeholder=\"Sélectionner une catégorie\" />\n                                            </SelectTrigger>\n                                            <SelectContent>\n                                            {categories?.map((categorie: { id: Key | null | undefined; nom: string | number | bigint | boolean | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal | Promise<string | number | bigint | boolean | ReactPortal | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | null | undefined> | null | undefined; }) => (\n                                                // Ensure the value is never an empty string\n                                                <SelectItem \n                                                key={categorie.id} \n                                                value={categorie.id?.toString() || String(categorie.id)} // Fallback to String() if toString() fails\n                                                >\n                                                {categorie.nom}\n                                                </SelectItem>\n                                            ))}\n                                            </SelectContent>\n                                        </Select>\n                                        {errors.categorie_id && <p className=\"text-sm text-red-500\">{errors.categorie_id}</p>}\n                                        </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"sous_category\">Sous-catégorie</Label>\n                                        <Input\n                                            id=\"sous_category\"\n                                            value={data.sous_category}\n                                            onChange={(e) => setData('sous_category', e.target.value)}\n                                            placeholder=\"Sous-catégorie (optionnel)\"\n                                        />\n                                        {errors.sous_category && <p className=\"text-sm text-red-500\">{errors.sous_category}</p>}\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"unite\">Unité*</Label>\n                                        <Input\n                                            id=\"unite\"\n                                            value={data.unite}\n                                            onChange={(e) => setData('unite', e.target.value)}\n                                            placeholder=\"Unité (ex: boite, flacon, etc.)\"\n                                            required\n                                        />\n                                        {errors.unite && <p className=\"text-sm text-red-500\">{errors.unite}</p>}\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"fabrican\">Fabricant</Label>\n                                        <Input\n                                            id=\"fabrican\"\n                                            value={data.fabrican}\n                                            onChange={(e) => setData('fabrican', e.target.value)}\n                                            placeholder=\"Fabricant (optionnel)\"\n                                        />\n                                        {errors.fabrican && <p className=\"text-sm text-red-500\">{errors.fabrican}</p>}\n                                    </div>\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"fournisseur_id\">Fournisseur</Label>\n                                        <Select\n                                            value={data.fournisseur_id || undefined} // Utilisez `undefined` pour le placeholder\n                                            onValueChange={(value) => setData('fournisseur_id', value === \"null\" ? null : value)}\n                                        >\n                                            <SelectTrigger>\n                                            <SelectValue placeholder=\"Sélectionner un fournisseur\" />\n                                            </SelectTrigger>\n                                            <SelectContent>\n                                            <SelectItem value=\"null\">Aucun fournisseur</SelectItem> {/* ← \"null\" au lieu de \"\" */}\n                                            {fournisseurs.map((fournisseur: { id: Key | null | undefined; nom: string | number | bigint | boolean | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal | Promise<string | number | bigint | boolean | ReactPortal | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | null | undefined> | null | undefined; }) => (\n                                                <SelectItem key={fournisseur.id} value={fournisseur.id ? fournisseur.id.toString() : 'null'}>\n                                                {fournisseur.nom}\n                                                </SelectItem>\n                                            ))}\n                                            </SelectContent>\n                                        </Select>\n                                        {errors.fournisseur_id && <p className=\"text-sm text-red-500\">{errors.fournisseur_id}</p>}\n                                        </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"prix_unitaire\">Prix unitaire (FC)*</Label>\n                                        <Input\n                                            id=\"prix_unitaire\"\n                                            type=\"number\"\n                                            step=\"0.01\"\n                                            min=\"0\"\n                                            value={data.prix_unitaire}\n                                            onChange={(e) => setData('prix_unitaire', parseFloat(e.target.value))}\n                                            placeholder=\"0.00\"\n                                            required\n                                        />\n                                        {errors.prix_unitaire && <p className=\"text-sm text-red-500\">{errors.prix_unitaire}</p>}\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"seuil_min\">Seuil minimum de stock*</Label>\n                                        <Input\n                                            id=\"seuil_min\"\n                                            type=\"number\"\n                                            min=\"0\"\n                                            value={data.seuil_min}\n                                            onChange={(e) => setData('seuil_min', parseInt(e.target.value))}\n                                            placeholder=\"0\"\n                                            required\n                                        />\n                                        {errors.seuil_min && <p className=\"text-sm text-red-500\">{errors.seuil_min}</p>}\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"duree_vie\">Durée de vie (mois)*</Label>\n                                        <Input\n                                            id=\"duree_vie\"\n                                            type=\"number\"\n                                            min=\"1\"\n                                            value={data.duree_vie}\n                                            onChange={(e) => setData('duree_vie', parseInt(e.target.value))}\n                                            placeholder=\"36\"\n                                            required\n                                        />\n                                        {errors.duree_vie && <p className=\"text-sm text-red-500\">{errors.duree_vie}</p>}\n                                    </div>\n\n                                    <div className=\"flex items-center space-x-2 pt-2\">\n                                        <Checkbox\n                                            id=\"requires_refrigeration\"\n                                            checked={data.requires_refrigeration}\n                                            onCheckedChange={(checked) => setData('requires_refrigeration', !!checked)}\n                                        />\n                                        <Label htmlFor=\"requires_refrigeration\">Nécessite réfrigération</Label>\n                                    </div>\n\n                                    <div className=\"flex items-center space-x-2 pt-2\">\n                                        <Switch\n                                            id=\"is_active\"\n                                            checked={data.is_active}\n                                            onCheckedChange={(checked) => setData('is_active', checked)}\n                                        />\n                                        <Label htmlFor=\"is_active\">Produit actif</Label>\n                                    </div>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"description\">Description</Label>\n                                    <Textarea\n                                        id=\"description\"\n                                        value={data.description}\n                                        onChange={(e) => setData('description', e.target.value)}\n                                        placeholder=\"Description du produit (optionnel)\"\n                                        rows={4}\n                                    />\n                                    {errors.description && <p className=\"text-sm text-red-500\">{errors.description}</p>}\n                                </div>\n\n                                <div className=\"flex justify-end space-x-4\">\n                                    <Button variant=\"outline\" asChild>\n                                        <Link href={route('medical-produits.index')}>Annuler</Link>\n                                    </Button>\n                                    <Button type=\"submit\" disabled={processing}>\n                                        {processing ? 'Enregistrement...' : 'Enregistrer'}\n                                    </Button>\n                                </div>\n                            </form>\n                        </div>\n                            </CardContent>\n                        </Card>\n                        \n                    </div>\n                </div>\n            </div>\n        </AppLayout>\n    );\n}"],"names":["Create","categories","fournisseurs","data","setData","post","processing","errors","useForm","breadcrumbs","submit","e","toast","jsxs","AppLayout","jsx","Head","Card","CardHeader","CardTitle","CardContent","Label","Input","Select","value","SelectTrigger","SelectValue","SelectContent","categorie","SelectItem","_a","fournisseur","Checkbox","checked","Switch","Textarea","Button","Link"],"mappings":"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"}